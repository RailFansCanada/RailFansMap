(()=>{var e,t,n,r,a,o={8617:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r=n.p+"images/0d2bc5dd1431b65d907de926bf0b0097-label.png"},4559:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r=n.p+"images/d3f95968fdd836be72f8024bcc65194b-logoDark.svg"},380:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r=n.p+"images/8a3f225facad69ea0aafb53ddb6968ce-logoLight.svg"},5767:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r="CREATE VIRTUAL TABLE stations_search USING fts5 (\n    name,\n    description,\n    parent,\n    terms,\n    lines,\n    lng,\n    lat\n);\nCREATE VIRTUAL TABLE bounds_search USING fts5 (\n    name,\n    description,\n    terms,\n    id,\n    type,\n    bounds\n);"},1421:(e,t,n)=>{e=n.nmd(e);var r=void 0,a=function(t){return r||(r=new Promise((function(r,a){var o,i=void 0!==t?t:{},l=i.onAbort;i.onAbort=function(e){a(new Error(e)),l&&l(e)},i.postRun=i.postRun||[],i.postRun.push((function(){r(i)})),e=void 0,o||(o=void 0!==i?i:{}),o.onRuntimeInitialized=function(){function e(e,t){this.Qa=e,this.db=t,this.Oa=1,this.kb=[]}function t(e,t){if(this.db=t,t=K(e)+1,this.cb=Lt(t),null===this.cb)throw Error("Unable to allocate memory for the SQL string");W(e,D,this.cb,t),this.ib=this.cb,this.Za=this.ob=null}function n(e){if(this.filename="dbfile_"+(4294967295*Math.random()>>>0),null!=e){var t=this.filename,n=t?de("//"+t):"/";if(n=Ve(n,4095&(void 0!==(t=ut(!0,!0))?t:438)|32768,0),e){if("string"==typeof e){for(var a=Array(e.length),o=0,l=e.length;o<l;++o)a[o]=e.charCodeAt(o);e=a}tt(n,146|t),st(a=at(n,577),e,0,e.length,0,void 0),ot(a),tt(n,t)}}this.handleError(i(this.filename,r)),this.db=k(r,"i32"),re(this.db),this.eb={},this.Wa={}}var r=Rt(4),a=o.cwrap,i=a("sqlite3_open","number",["string","number"]),l=a("sqlite3_close_v2","number",["number"]),s=a("sqlite3_exec","number",["number","string","number","number","number"]),c=a("sqlite3_changes","number",["number"]),u=a("sqlite3_prepare_v2","number",["number","string","number","number","number"]),d=a("sqlite3_sql","string",["number"]),f=a("sqlite3_normalized_sql","string",["number"]),p=a("sqlite3_prepare_v2","number",["number","number","number","number","number"]),m=a("sqlite3_bind_text","number",["number","number","number","number","number"]),h=a("sqlite3_bind_blob","number",["number","number","number","number","number"]),g=a("sqlite3_bind_double","number",["number","number","number"]),b=a("sqlite3_bind_int","number",["number","number","number"]),y=a("sqlite3_bind_parameter_index","number",["number","string"]),v=a("sqlite3_step","number",["number"]),w=a("sqlite3_errmsg","string",["number"]),_=a("sqlite3_column_count","number",["number"]),S=a("sqlite3_data_count","number",["number"]),C=a("sqlite3_column_double","number",["number","number"]),L=a("sqlite3_column_text","string",["number","number"]),j=a("sqlite3_column_blob","number",["number","number"]),T=a("sqlite3_column_bytes","number",["number","number"]),P=a("sqlite3_column_type","number",["number","number"]),q=a("sqlite3_column_name","string",["number","number"]),R=a("sqlite3_reset","number",["number"]),I=a("sqlite3_clear_bindings","number",["number"]),B=a("sqlite3_finalize","number",["number"]),z=a("sqlite3_create_function_v2","number","number string number number number number number number number".split(" ")),G=a("sqlite3_value_type","number",["number"]),U=a("sqlite3_value_bytes","number",["number"]),Q=a("sqlite3_value_text","string",["number"]),Y=a("sqlite3_value_blob","number",["number"]),H=a("sqlite3_value_double","number",["number"]),J=a("sqlite3_result_double","",["number","number"]),Z=a("sqlite3_result_null","",["number"]),X=a("sqlite3_result_text","",["number","string","number","number"]),ee=a("sqlite3_result_blob","",["number","number","number","number"]),te=a("sqlite3_result_int","",["number","number"]),ne=a("sqlite3_result_error","",["number","string","number"]),re=a("RegisterExtensionFunctions","number",["number"]);e.prototype.bind=function(e){if(!this.Qa)throw"Statement closed";return this.reset(),Array.isArray(e)?this.Cb(e):null==e||"object"!=typeof e||this.Db(e)},e.prototype.step=function(){if(!this.Qa)throw"Statement closed";this.Oa=1;var e=v(this.Qa);switch(e){case 100:return!0;case 101:return!1;default:throw this.db.handleError(e)}},e.prototype.yb=function(e){return null==e&&(e=this.Oa,this.Oa+=1),C(this.Qa,e)},e.prototype.Gb=function(e){if(null==e&&(e=this.Oa,this.Oa+=1),e=L(this.Qa,e),"function"!=typeof BigInt)throw Error("BigInt is not supported");return BigInt(e)},e.prototype.Hb=function(e){return null==e&&(e=this.Oa,this.Oa+=1),L(this.Qa,e)},e.prototype.getBlob=function(e){null==e&&(e=this.Oa,this.Oa+=1);var t=T(this.Qa,e);e=j(this.Qa,e);for(var n=new Uint8Array(t),r=0;r<t;r+=1)n[r]=A[e+r];return n},e.prototype.get=function(e,t){t=t||{},null!=e&&this.bind(e)&&this.step(),e=[];for(var n=S(this.Qa),r=0;r<n;r+=1)switch(P(this.Qa,r)){case 1:var a=t.useBigInt?this.Gb(r):this.yb(r);e.push(a);break;case 2:e.push(this.yb(r));break;case 3:e.push(this.Hb(r));break;case 4:e.push(this.getBlob(r));break;default:e.push(null)}return e},e.prototype.getColumnNames=function(){for(var e=[],t=_(this.Qa),n=0;n<t;n+=1)e.push(q(this.Qa,n));return e},e.prototype.getAsObject=function(e,t){e=this.get(e,t),t=this.getColumnNames();for(var n={},r=0;r<t.length;r+=1)n[t[r]]=e[r];return n},e.prototype.getSQL=function(){return d(this.Qa)},e.prototype.getNormalizedSQL=function(){return f(this.Qa)},e.prototype.run=function(e){return null!=e&&this.bind(e),this.step(),this.reset()},e.prototype.tb=function(e,t){null==t&&(t=this.Oa,this.Oa+=1);var n=F(e=Ot(e));this.kb.push(n),this.db.handleError(m(this.Qa,t,n,e.length-1,0))},e.prototype.Bb=function(e,t){null==t&&(t=this.Oa,this.Oa+=1);var n=F(e);this.kb.push(n),this.db.handleError(h(this.Qa,t,n,e.length,0))},e.prototype.sb=function(e,t){null==t&&(t=this.Oa,this.Oa+=1),this.db.handleError((e===(0|e)?b:g)(this.Qa,t,e))},e.prototype.Eb=function(e){null==e&&(e=this.Oa,this.Oa+=1),h(this.Qa,e,0,0,0)},e.prototype.ub=function(e,t){switch(null==t&&(t=this.Oa,this.Oa+=1),typeof e){case"string":return void this.tb(e,t);case"number":return void this.sb(e,t);case"bigint":return void this.tb(e.toString(),t);case"boolean":return void this.sb(e+0,t);case"object":if(null===e)return void this.Eb(t);if(null!=e.length)return void this.Bb(e,t)}throw"Wrong API use : tried to bind a value of an unknown type ("+e+")."},e.prototype.Db=function(e){var t=this;return Object.keys(e).forEach((function(n){var r=y(t.Qa,n);0!==r&&t.ub(e[n],r)})),!0},e.prototype.Cb=function(e){for(var t=0;t<e.length;t+=1)this.ub(e[t],t+1);return!0},e.prototype.reset=function(){return this.freemem(),0===I(this.Qa)&&0===R(this.Qa)},e.prototype.freemem=function(){for(var e;void 0!==(e=this.kb.pop());)jt(e)},e.prototype.free=function(){this.freemem();var e=0===B(this.Qa);return delete this.db.eb[this.Qa],this.Qa=0,e},t.prototype.next=function(){if(null===this.cb)return{done:!0};if(null!==this.Za&&(this.Za.free(),this.Za=null),!this.db.db)throw this.mb(),Error("Database closed");var t=Dt(),n=Rt(4);O(r),O(n);try{this.db.handleError(p(this.db.db,this.ib,-1,r,n)),this.ib=k(n,"i32");var a=k(r,"i32");return 0===a?(this.mb(),{done:!0}):(this.Za=new e(a,this.db),this.db.eb[a]=this.Za,{value:this.Za,done:!1})}catch(e){throw this.ob=$(this.ib),this.mb(),e}finally{qt(t)}},t.prototype.mb=function(){jt(this.cb),this.cb=null},t.prototype.getRemainingSQL=function(){return null!==this.ob?this.ob:$(this.ib)},"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator&&(t.prototype[Symbol.iterator]=function(){return this}),n.prototype.run=function(e,t){if(!this.db)throw"Database closed";if(t){e=this.prepare(e,t);try{e.step()}finally{e.free()}}else this.handleError(s(this.db,e,0,0,r));return this},n.prototype.exec=function(t,n,a){if(!this.db)throw"Database closed";var o=Dt(),i=null;try{var l=K(t)+1,s=Rt(l);W(t,A,s,l);var c=s,u=Rt(4);for(t=[];0!==k(c,"i8");){O(r),O(u),this.handleError(p(this.db,c,-1,r,u));var d=k(r,"i32");if(c=k(u,"i32"),0!==d){for(l=null,i=new e(d,this),null!=n&&i.bind(n);i.step();)null===l&&(l={columns:i.getColumnNames(),values:[]},t.push(l)),l.values.push(i.get(null,a));i.free()}}return t}catch(e){throw i&&i.free(),e}finally{qt(o)}},n.prototype.each=function(e,t,n,r,a){"function"==typeof t&&(r=n,n=t,t=void 0),e=this.prepare(e,t);try{for(;e.step();)n(e.getAsObject(null,a))}finally{e.free()}if("function"==typeof r)return r()},n.prototype.prepare=function(t,n){if(O(r),this.handleError(u(this.db,t,-1,r,0)),0===(t=k(r,"i32")))throw"Nothing to prepare";var a=new e(t,this);return null!=n&&a.bind(n),this.eb[t]=a},n.prototype.iterateStatements=function(e){return new t(e,this)},n.prototype.export=function(){Object.values(this.eb).forEach((function(e){e.free()})),Object.values(this.Wa).forEach(M),this.Wa={},this.handleError(l(this.db));var e=function(e){var t={encoding:"binary"};if((t=t||{}).flags=t.flags||0,t.encoding=t.encoding||"binary","utf8"!==t.encoding&&"binary"!==t.encoding)throw Error('Invalid encoding type "'+t.encoding+'"');var n,r=at(e,t.flags);e=Xe(e).size;var a=new Uint8Array(e);return lt(r,a,0,e,0),"utf8"===t.encoding?n=N(a,0):"binary"===t.encoding&&(n=a),ot(r),n}(this.filename);return this.handleError(i(this.filename,r)),this.db=k(r,"i32"),e},n.prototype.close=function(){null!==this.db&&(Object.values(this.eb).forEach((function(e){e.free()})),Object.values(this.Wa).forEach(M),this.Wa={},this.handleError(l(this.db)),Je("/"+this.filename),this.db=null)},n.prototype.handleError=function(e){if(0===e)return null;throw e=w(this.db),Error(e)},n.prototype.getRowsModified=function(){return c(this.db)},n.prototype.create_function=function(e,t){Object.prototype.hasOwnProperty.call(this.Wa,e)&&(M(this.Wa[e]),delete this.Wa[e]);var n=function(e){if(!x){x=new WeakMap;for(var t=0;t<V.length;t++){var n=V.get(t);n&&x.set(n,t)}}if(x.has(e))e=x.get(e);else{if(E.length)t=E.pop();else{try{V.grow(1)}catch(e){if(!(e instanceof RangeError))throw e;throw"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH."}t=V.length-1}try{V.set(t,e)}catch(o){if(!(o instanceof TypeError))throw o;if("function"==typeof WebAssembly.Function){var r={i:"i32",j:"i64",f:"f32",d:"f64"},a={parameters:[],results:[]};for(n=1;4>n;++n)a.parameters.push(r["viii"[n]]);n=new WebAssembly.Function(a,e)}else{for(a={i:127,j:126,f:125,d:124},(r=[1,0,1,96]).push(3),n=0;3>n;++n)r.push(a["iii"[n]]);r.push(0),r[1]=r.length-2,n=new Uint8Array([0,97,115,109,1,0,0,0].concat(r,[2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0])),n=new WebAssembly.Module(n),n=new WebAssembly.Instance(n,{e:{f:e}}).exports.f}V.set(t,n)}x.set(e,t),e=t}return e}((function(e,n,r){for(var a,o=[],i=0;i<n;i+=1){var l=k(r+4*i,"i32"),s=G(l);if(1===s||2===s)l=H(l);else if(3===s)l=Q(l);else if(4===s){l=U(s=l),s=Y(s);for(var c=new Uint8Array(l),u=0;u<l;u+=1)c[u]=A[s+u];l=c}else l=null;o.push(l)}try{a=t.apply(null,o)}catch(t){return void ne(e,t,-1)}switch(typeof a){case"boolean":te(e,a?1:0);break;case"number":J(e,a);break;case"string":X(e,a,-1,-1);break;case"object":null===a?Z(e):null!=a.length?(n=F(a),ee(e,n,a.length,-1),jt(n)):ne(e,"Wrong API use : tried to return a value of an unknown type ("+a+").",-1);break;default:Z(e)}}));return this.Wa[e]=n,this.handleError(z(this.db,e,t.length,1,0,n,0,0,0)),this},o.Database=n};var s,c={};for(s in o)o.hasOwnProperty(s)&&(c[s]=o[s]);var u,d,f,p,m,h="./this.program",g="object"==typeof window,b="function"==typeof importScripts,y="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,v="";y?(v=b?n(8183).dirname(v)+"/":"//",u=function(e,t){return p||(p=n(2219)),m||(m=n(8183)),e=m.normalize(e),p.readFileSync(e,t?null:"utf8")},f=function(e){return(e=u(e,!0)).buffer||(e=new Uint8Array(e)),e.buffer||oe("Assertion failed: undefined"),e},d=function(e,t,r){p||(p=n(2219)),m||(m=n(8183)),e=m.normalize(e),p.readFile(e,(function(e,n){e?r(e):t(n.buffer)}))},1<process.argv.length&&(h=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),e.exports=o,o.inspect=function(){return"[Emscripten Module object]"}):(g||b)&&(b?v=self.location.href:"undefined"!=typeof document&&document.currentScript&&(v=document.currentScript.src),v=0!==v.indexOf("blob:")?v.substr(0,v.lastIndexOf("/")+1):"",u=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},b&&(f=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),d=function(e,t,n){var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=function(){200==r.status||0==r.status&&r.response?t(r.response):n()},r.onerror=n,r.send(null)});var w=o.print||console.log.bind(console),_=o.printErr||console.warn.bind(console);for(s in c)c.hasOwnProperty(s)&&(o[s]=c[s]);c=null,o.thisProgram&&(h=o.thisProgram);var x,S,E=[];function M(e){x.delete(V.get(e)),E.push(e)}function O(e){var t="i32";switch("*"===t.charAt(t.length-1)&&(t="i32"),t){case"i1":case"i8":A[e>>0]=0;break;case"i16":q[e>>1]=0;break;case"i32":R[e>>2]=0;break;case"i64":ee=[0,(X=0,1<=+Math.abs(X)?0<X?(0|Math.min(+Math.floor(X/4294967296),4294967295))>>>0:~~+Math.ceil((X-+(~~X>>>0))/4294967296)>>>0:0)],R[e>>2]=ee[0],R[e+4>>2]=ee[1];break;case"float":I[e>>2]=0;break;case"double":B[e>>3]=0;break;default:oe("invalid type for setValue: "+t)}}function k(e,t){switch("*"===(t=t||"i8").charAt(t.length-1)&&(t="i32"),t){case"i1":case"i8":return A[e>>0];case"i16":return q[e>>1];case"i32":case"i64":return R[e>>2];case"float":return I[e>>2];case"double":return B[e>>3];default:oe("invalid type for getValue: "+t)}return null}o.wasmBinary&&(S=o.wasmBinary),o.noExitRuntime,"object"!=typeof WebAssembly&&oe("no native wasm support detected");var C,L=!1;function j(e){var t=o["_"+e];return t||oe("Assertion failed: Cannot call unknown function "+e+", make sure it is exported"),t}function T(e,t,n,r){var a={string:function(e){var t=0;if(null!=e&&0!==e){var n=1+(e.length<<2);t=Rt(n),W(e,D,t,n)}return t},array:function(e){var t=Rt(e.length);return A.set(e,t),t}};e=j(e);var o,i=[],l=0;if(r)for(var s=0;s<r.length;s++){var c=a[n[s]];c?(0===l&&(l=Dt()),i[s]=c(r[s])):i[s]=r[s]}return o=n=e.apply(null,i),0!==l&&qt(l),"string"===t?$(o):"boolean"===t?!!o:o}function F(e){var t=Lt(e.length);return e.subarray||e.slice?D.set(e,t):D.set(new Uint8Array(e),t),t}var P,A,D,q,R,I,B,z="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function N(e,t,n){var r=t+n;for(n=t;e[n]&&!(n>=r);)++n;if(16<n-t&&e.subarray&&z)return z.decode(e.subarray(t,n));for(r="";t<n;){var a=e[t++];if(128&a){var o=63&e[t++];if(192==(224&a))r+=String.fromCharCode((31&a)<<6|o);else{var i=63&e[t++];65536>(a=224==(240&a)?(15&a)<<12|o<<6|i:(7&a)<<18|o<<12|i<<6|63&e[t++])?r+=String.fromCharCode(a):(a-=65536,r+=String.fromCharCode(55296|a>>10,56320|1023&a))}}else r+=String.fromCharCode(a)}return r}function $(e,t){return e?N(D,e,t):""}function W(e,t,n,r){if(!(0<r))return 0;var a=n;r=n+r-1;for(var o=0;o<e.length;++o){var i=e.charCodeAt(o);if(55296<=i&&57343>=i&&(i=65536+((1023&i)<<10)|1023&e.charCodeAt(++o)),127>=i){if(n>=r)break;t[n++]=i}else{if(2047>=i){if(n+1>=r)break;t[n++]=192|i>>6}else{if(65535>=i){if(n+2>=r)break;t[n++]=224|i>>12}else{if(n+3>=r)break;t[n++]=240|i>>18,t[n++]=128|i>>12&63}t[n++]=128|i>>6&63}t[n++]=128|63&i}}return t[n]=0,n-a}function K(e){for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);55296<=r&&57343>=r&&(r=65536+((1023&r)<<10)|1023&e.charCodeAt(++n)),127>=r?++t:t=2047>=r?t+2:65535>=r?t+3:t+4}return t}function G(e){var t=K(e)+1,n=Lt(t);return n&&W(e,A,n,t),n}function U(){var e=C.buffer;P=e,o.HEAP8=A=new Int8Array(e),o.HEAP16=q=new Int16Array(e),o.HEAP32=R=new Int32Array(e),o.HEAPU8=D=new Uint8Array(e),o.HEAPU16=new Uint16Array(e),o.HEAPU32=new Uint32Array(e),o.HEAPF32=I=new Float32Array(e),o.HEAPF64=B=new Float64Array(e)}var V,Q=[],Y=[],H=[];function J(){var e=o.preRun.shift();Q.unshift(e)}var Z,X,ee,te,ne=0,re=null,ae=null;function oe(e){throw o.onAbort&&o.onAbort(e),_(e),L=!0,new WebAssembly.RuntimeError("abort("+e+"). Build with -s ASSERTIONS=1 for more info.")}function ie(){return Z.startsWith("data:application/octet-stream;base64,")}if(o.preloadedImages={},o.preloadedAudios={},Z="sql-wasm.wasm",!ie()){var le=Z;Z=o.locateFile?o.locateFile(le,v):v+le}function se(){var e=Z;try{if(e==Z&&S)return new Uint8Array(S);if(f)return f(e);throw"both async and sync fetching of the wasm failed"}catch(e){oe(e)}}function ce(e){for(;0<e.length;){var t=e.shift();if("function"==typeof t)t(o);else{var n=t.Qb;"number"==typeof n?void 0===t.lb?V.get(n)():V.get(n)(t.lb):n(void 0===t.lb?null:t.lb)}}}function ue(e,t){for(var n=0,r=e.length-1;0<=r;r--){var a=e[r];"."===a?e.splice(r,1):".."===a?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n;n--)e.unshift("..");return e}function de(e){var t="/"===e.charAt(0),n="/"===e.substr(-1);return(e=ue(e.split("/").filter((function(e){return!!e})),!t).join("/"))||t||(e="."),e&&n&&(e+="/"),(t?"/":"")+e}function fe(e){var t=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(e).slice(1);return e=t[0],t=t[1],e||t?(t&&(t=t.substr(0,t.length-1)),e+t):"."}function pe(e){if("/"===e)return"/";var t=(e=(e=de(e)).replace(/\/$/,"")).lastIndexOf("/");return-1===t?e:e.substr(t+1)}function me(){for(var e="",t=!1,n=arguments.length-1;-1<=n&&!t;n--){if("string"!=typeof(t=0<=n?arguments[n]:"/"))throw new TypeError("Arguments to path.resolve must be strings");if(!t)return"";e=t+"/"+e,t="/"===t.charAt(0)}return(t?"/":"")+(e=ue(e.split("/").filter((function(e){return!!e})),!t).join("/"))||"."}var he=[];function ge(e,t){he[e]={input:[],output:[],bb:t},Ge(e,be)}var be={open:function(e){var t=he[e.node.rdev];if(!t)throw new Le(43);e.tty=t,e.seekable=!1},close:function(e){e.tty.bb.flush(e.tty)},flush:function(e){e.tty.bb.flush(e.tty)},read:function(e,t,n,r){if(!e.tty||!e.tty.bb.zb)throw new Le(60);for(var a=0,o=0;o<r;o++){try{var i=e.tty.bb.zb(e.tty)}catch(e){throw new Le(29)}if(void 0===i&&0===a)throw new Le(6);if(null==i)break;a++,t[n+o]=i}return a&&(e.node.timestamp=Date.now()),a},write:function(e,t,n,r){if(!e.tty||!e.tty.bb.pb)throw new Le(60);try{for(var a=0;a<r;a++)e.tty.bb.pb(e.tty,t[n+a])}catch(e){throw new Le(29)}return r&&(e.node.timestamp=Date.now()),a}},ye={zb:function(e){if(!e.input.length){var t=null;if(y){var n=Buffer.alloc(256),r=0;try{r=p.readSync(process.stdin.fd,n,0,256,null)}catch(e){if(!e.toString().includes("EOF"))throw e;r=0}t=0<r?n.slice(0,r).toString("utf-8"):null}else"undefined"!=typeof window&&"function"==typeof window.prompt?null!==(t=window.prompt("Input: "))&&(t+="\n"):"function"==typeof readline&&null!==(t=readline())&&(t+="\n");if(!t)return null;e.input=Ot(t,!0)}return e.input.shift()},pb:function(e,t){null===t||10===t?(w(N(e.output,0)),e.output=[]):0!=t&&e.output.push(t)},flush:function(e){e.output&&0<e.output.length&&(w(N(e.output,0)),e.output=[])}},ve={pb:function(e,t){null===t||10===t?(_(N(e.output,0)),e.output=[]):0!=t&&e.output.push(t)},flush:function(e){e.output&&0<e.output.length&&(_(N(e.output,0)),e.output=[])}};function we(e){e=65536*Math.ceil(e/65536);var t=It(65536,e);return t?(D.fill(0,t,t+e),t):0}var _e={Ua:null,Va:function(){return _e.createNode(null,"/",16895,0)},createNode:function(e,t,n,r){if(24576==(61440&n)||4096==(61440&n))throw new Le(63);return _e.Ua||(_e.Ua={dir:{node:{Ta:_e.La.Ta,Sa:_e.La.Sa,lookup:_e.La.lookup,fb:_e.La.fb,rename:_e.La.rename,unlink:_e.La.unlink,rmdir:_e.La.rmdir,readdir:_e.La.readdir,symlink:_e.La.symlink},stream:{Ya:_e.Ma.Ya}},file:{node:{Ta:_e.La.Ta,Sa:_e.La.Sa},stream:{Ya:_e.Ma.Ya,read:_e.Ma.read,write:_e.Ma.write,rb:_e.Ma.rb,gb:_e.Ma.gb,hb:_e.Ma.hb}},link:{node:{Ta:_e.La.Ta,Sa:_e.La.Sa,readlink:_e.La.readlink},stream:{}},vb:{node:{Ta:_e.La.Ta,Sa:_e.La.Sa},stream:Ke}}),Re((n=qe(e,t,n,r)).mode)?(n.La=_e.Ua.dir.node,n.Ma=_e.Ua.dir.stream,n.Na={}):32768==(61440&n.mode)?(n.La=_e.Ua.file.node,n.Ma=_e.Ua.file.stream,n.Ra=0,n.Na=null):40960==(61440&n.mode)?(n.La=_e.Ua.link.node,n.Ma=_e.Ua.link.stream):8192==(61440&n.mode)&&(n.La=_e.Ua.vb.node,n.Ma=_e.Ua.vb.stream),n.timestamp=Date.now(),e&&(e.Na[t]=n,e.timestamp=n.timestamp),n},Rb:function(e){return e.Na?e.Na.subarray?e.Na.subarray(0,e.Ra):new Uint8Array(e.Na):new Uint8Array(0)},wb:function(e,t){var n=e.Na?e.Na.length:0;n>=t||(t=Math.max(t,n*(1048576>n?2:1.125)>>>0),0!=n&&(t=Math.max(t,256)),n=e.Na,e.Na=new Uint8Array(t),0<e.Ra&&e.Na.set(n.subarray(0,e.Ra),0))},Nb:function(e,t){if(e.Ra!=t)if(0==t)e.Na=null,e.Ra=0;else{var n=e.Na;e.Na=new Uint8Array(t),n&&e.Na.set(n.subarray(0,Math.min(t,e.Ra))),e.Ra=t}},La:{Ta:function(e){var t={};return t.dev=8192==(61440&e.mode)?e.id:1,t.ino=e.id,t.mode=e.mode,t.nlink=1,t.uid=0,t.gid=0,t.rdev=e.rdev,Re(e.mode)?t.size=4096:32768==(61440&e.mode)?t.size=e.Ra:40960==(61440&e.mode)?t.size=e.link.length:t.size=0,t.atime=new Date(e.timestamp),t.mtime=new Date(e.timestamp),t.ctime=new Date(e.timestamp),t.Fb=4096,t.blocks=Math.ceil(t.size/t.Fb),t},Sa:function(e,t){void 0!==t.mode&&(e.mode=t.mode),void 0!==t.timestamp&&(e.timestamp=t.timestamp),void 0!==t.size&&_e.Nb(e,t.size)},lookup:function(){throw je[44]},fb:function(e,t,n,r){return _e.createNode(e,t,n,r)},rename:function(e,t,n){if(Re(e.mode)){try{var r=De(t,n)}catch(e){}if(r)for(var a in r.Na)throw new Le(55)}delete e.parent.Na[e.name],e.parent.timestamp=Date.now(),e.name=n,t.Na[n]=e,t.timestamp=e.parent.timestamp,e.parent=t},unlink:function(e,t){delete e.Na[t],e.timestamp=Date.now()},rmdir:function(e,t){var n,r=De(e,t);for(n in r.Na)throw new Le(55);delete e.Na[t],e.timestamp=Date.now()},readdir:function(e){var t,n=[".",".."];for(t in e.Na)e.Na.hasOwnProperty(t)&&n.push(t);return n},symlink:function(e,t,n){return(e=_e.createNode(e,t,41471,0)).link=n,e},readlink:function(e){if(40960!=(61440&e.mode))throw new Le(28);return e.link}},Ma:{read:function(e,t,n,r,a){var o=e.node.Na;if(a>=e.node.Ra)return 0;if(8<(e=Math.min(e.node.Ra-a,r))&&o.subarray)t.set(o.subarray(a,a+e),n);else for(r=0;r<e;r++)t[n+r]=o[a+r];return e},write:function(e,t,n,r,a,o){if(t.buffer===A.buffer&&(o=!1),!r)return 0;if((e=e.node).timestamp=Date.now(),t.subarray&&(!e.Na||e.Na.subarray)){if(o)return e.Na=t.subarray(n,n+r),e.Ra=r;if(0===e.Ra&&0===a)return e.Na=t.slice(n,n+r),e.Ra=r;if(a+r<=e.Ra)return e.Na.set(t.subarray(n,n+r),a),r}if(_e.wb(e,a+r),e.Na.subarray&&t.subarray)e.Na.set(t.subarray(n,n+r),a);else for(o=0;o<r;o++)e.Na[a+o]=t[n+o];return e.Ra=Math.max(e.Ra,a+r),r},Ya:function(e,t,n){if(1===n?t+=e.position:2===n&&32768==(61440&e.node.mode)&&(t+=e.node.Ra),0>t)throw new Le(28);return t},rb:function(e,t,n){_e.wb(e.node,t+n),e.node.Ra=Math.max(e.node.Ra,t+n)},gb:function(e,t,n,r,a,o){if(0!==t)throw new Le(28);if(32768!=(61440&e.node.mode))throw new Le(43);if(e=e.node.Na,2&o||e.buffer!==P){if((0<r||r+n<e.length)&&(e=e.subarray?e.subarray(r,r+n):Array.prototype.slice.call(e,r,r+n)),r=!0,!(n=we(n)))throw new Le(48);A.set(e,n)}else r=!1,n=e.byteOffset;return{Mb:n,jb:r}},hb:function(e,t,n,r,a){if(32768!=(61440&e.node.mode))throw new Le(43);return 2&a||_e.Ma.write(e,t,0,r,n,!1),0}}},xe=null,Se={},Ee=[],Me=1,Oe=null,ke=!0,Ce={},Le=null,je={};function Te(e,t){if(t=t||{},!(e=me("/",e)))return{path:"",node:null};var n,r={xb:!0,qb:0};for(n in r)void 0===t[n]&&(t[n]=r[n]);if(8<t.qb)throw new Le(32);e=ue(e.split("/").filter((function(e){return!!e})),!1);var a=xe;for(r="/",n=0;n<e.length;n++){var o=n===e.length-1;if(o&&t.parent)break;if(a=De(a,e[n]),r=de(r+"/"+e[n]),a.$a&&(!o||o&&t.xb)&&(a=a.$a.root),!o||t.Xa)for(o=0;40960==(61440&a.mode);)if(a=Ze(r),a=Te(r=me(fe(r),a),{qb:t.qb}).node,40<o++)throw new Le(32)}return{path:r,node:a}}function Fe(e){for(var t;;){if(e===e.parent)return e=e.Va.Ab,t?"/"!==e[e.length-1]?e+"/"+t:e+t:e;t=t?e.name+"/"+t:e.name,e=e.parent}}function Pe(e,t){for(var n=0,r=0;r<t.length;r++)n=(n<<5)-n+t.charCodeAt(r)|0;return(e+n>>>0)%Oe.length}function Ae(e){var t=Pe(e.parent.id,e.name);if(Oe[t]===e)Oe[t]=e.ab;else for(t=Oe[t];t;){if(t.ab===e){t.ab=e.ab;break}t=t.ab}}function De(e,t){var n;if(n=(n=ze(e,"x"))?n:e.La.lookup?0:2)throw new Le(n,e);for(n=Oe[Pe(e.id,t)];n;n=n.ab){var r=n.name;if(n.parent.id===e.id&&r===t)return n}return e.La.lookup(e,t)}function qe(e,t,n,r){return t=Pe((e=new Mt(e,t,n,r)).parent.id,e.name),e.ab=Oe[t],Oe[t]=e}function Re(e){return 16384==(61440&e)}var Ie={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090};function Be(e){var t=["r","w","rw"][3&e];return 512&e&&(t+="w"),t}function ze(e,t){return ke?0:!t.includes("r")||292&e.mode?t.includes("w")&&!(146&e.mode)||t.includes("x")&&!(73&e.mode)?2:0:2}function Ne(e,t){try{return De(e,t),20}catch(e){}return ze(e,"wx")}function $e(e,t,n){try{var r=De(e,t)}catch(e){return e.Pa}if(e=ze(e,"wx"))return e;if(n){if(!Re(r.mode))return 54;if(r===r.parent||"/"===Fe(r))return 10}else if(Re(r.mode))return 31;return 0}var We,Ke={open:function(e){e.Ma=Se[e.node.rdev].Ma,e.Ma.open&&e.Ma.open(e)},Ya:function(){throw new Le(70)}};function Ge(e,t){Se[e]={Ma:t}}function Ue(e,t){var n="/"===t,r=!t;if(n&&xe)throw new Le(10);if(!n&&!r){var a=Te(t,{xb:!1});if(t=a.path,(a=a.node).$a)throw new Le(10);if(!Re(a.mode))throw new Le(54)}t={type:e,Sb:{},Ab:t,Kb:[]},(e=e.Va(t)).Va=t,t.root=e,n?xe=e:a&&(a.$a=t,a.Va&&a.Va.Kb.push(t))}function Ve(e,t,n){var r=Te(e,{parent:!0}).node;if(!(e=pe(e))||"."===e||".."===e)throw new Le(28);var a=Ne(r,e);if(a)throw new Le(a);if(!r.La.fb)throw new Le(63);return r.La.fb(r,e,t,n)}function Qe(e,t){return Ve(e,1023&(void 0!==t?t:511)|16384,0)}function Ye(e,t,n){void 0===n&&(n=t,t=438),Ve(e,8192|t,n)}function He(e,t){if(!me(e))throw new Le(44);var n=Te(t,{parent:!0}).node;if(!n)throw new Le(44);var r=Ne(n,t=pe(t));if(r)throw new Le(r);if(!n.La.symlink)throw new Le(63);n.La.symlink(n,t,e)}function Je(e){var t=Te(e,{parent:!0}).node,n=pe(e),r=De(t,n),a=$e(t,n,!1);if(a)throw new Le(a);if(!t.La.unlink)throw new Le(63);if(r.$a)throw new Le(10);try{Ce.willDeletePath&&Ce.willDeletePath(e)}catch(t){_("FS.trackingDelegate['willDeletePath']('"+e+"') threw an exception: "+t.message)}t.La.unlink(t,n),Ae(r);try{Ce.onDeletePath&&Ce.onDeletePath(e)}catch(t){_("FS.trackingDelegate['onDeletePath']('"+e+"') threw an exception: "+t.message)}}function Ze(e){if(!(e=Te(e).node))throw new Le(44);if(!e.La.readlink)throw new Le(28);return me(Fe(e.parent),e.La.readlink(e))}function Xe(e,t){if(!(e=Te(e,{Xa:!t}).node))throw new Le(44);if(!e.La.Ta)throw new Le(63);return e.La.Ta(e)}function et(e){return Xe(e,!0)}function tt(e,t){if(!(e="string"==typeof e?Te(e,{Xa:!0}).node:e).La.Sa)throw new Le(63);e.La.Sa(e,{mode:4095&t|-4096&e.mode,timestamp:Date.now()})}function nt(e){if(!(e="string"==typeof e?Te(e,{Xa:!0}).node:e).La.Sa)throw new Le(63);e.La.Sa(e,{timestamp:Date.now()})}function rt(e,t){if(0>t)throw new Le(28);if(!(e="string"==typeof e?Te(e,{Xa:!0}).node:e).La.Sa)throw new Le(63);if(Re(e.mode))throw new Le(31);if(32768!=(61440&e.mode))throw new Le(28);var n=ze(e,"w");if(n)throw new Le(n);e.La.Sa(e,{size:t,timestamp:Date.now()})}function at(e,t,n,r){if(""===e)throw new Le(44);if("string"==typeof t){var a=Ie[t];if(void 0===a)throw Error("Unknown file open mode: "+t);t=a}if(n=64&t?4095&(void 0===n?438:n)|32768:0,"object"==typeof e)var i=e;else{e=de(e);try{i=Te(e,{Xa:!(131072&t)}).node}catch(e){}}if(a=!1,64&t)if(i){if(128&t)throw new Le(20)}else i=Ve(e,n,0),a=!0;if(!i)throw new Le(44);if(8192==(61440&i.mode)&&(t&=-513),65536&t&&!Re(i.mode))throw new Le(54);if(!a&&(n=i?40960==(61440&i.mode)?32:Re(i.mode)&&("r"!==Be(t)||512&t)?31:ze(i,Be(t)):44))throw new Le(n);512&t&&rt(i,0),t&=-131713,(r=function(e,t){pt||((pt=function(){}).prototype={});var n,r=new pt;for(n in e)r[n]=e[n];return e=r,t=function(e){for(e=e||0;e<=4096;e++)if(!Ee[e])return e;throw new Le(33)}(t),e.fd=t,Ee[t]=e}({node:i,path:Fe(i),flags:t,seekable:!0,position:0,Ma:i.Ma,Pb:[],error:!1},r)).Ma.open&&r.Ma.open(r),!o.logReadFiles||1&t||(mt||(mt={}),e in mt||(mt[e]=1,_("FS.trackingDelegate error on read file: "+e)));try{Ce.onOpenFile&&(i=0,1!=(2097155&t)&&(i|=1),0!=(2097155&t)&&(i|=2),Ce.onOpenFile(e,i))}catch(t){_("FS.trackingDelegate['onOpenFile']('"+e+"', flags) threw an exception: "+t.message)}return r}function ot(e){if(null===e.fd)throw new Le(8);e.nb&&(e.nb=null);try{e.Ma.close&&e.Ma.close(e)}catch(e){throw e}finally{Ee[e.fd]=null}e.fd=null}function it(e,t,n){if(null===e.fd)throw new Le(8);if(!e.seekable||!e.Ma.Ya)throw new Le(70);if(0!=n&&1!=n&&2!=n)throw new Le(28);e.position=e.Ma.Ya(e,t,n),e.Pb=[]}function lt(e,t,n,r,a){if(0>r||0>a)throw new Le(28);if(null===e.fd)throw new Le(8);if(1==(2097155&e.flags))throw new Le(8);if(Re(e.node.mode))throw new Le(31);if(!e.Ma.read)throw new Le(28);var o=void 0!==a;if(o){if(!e.seekable)throw new Le(70)}else a=e.position;return t=e.Ma.read(e,t,n,r,a),o||(e.position+=t),t}function st(e,t,n,r,a,o){if(0>r||0>a)throw new Le(28);if(null===e.fd)throw new Le(8);if(0==(2097155&e.flags))throw new Le(8);if(Re(e.node.mode))throw new Le(31);if(!e.Ma.write)throw new Le(28);e.seekable&&1024&e.flags&&it(e,0,2);var i=void 0!==a;if(i){if(!e.seekable)throw new Le(70)}else a=e.position;t=e.Ma.write(e,t,n,r,a,o),i||(e.position+=t);try{e.path&&Ce.onWriteToFile&&Ce.onWriteToFile(e.path)}catch(t){_("FS.trackingDelegate['onWriteToFile']('"+e.path+"') threw an exception: "+t.message)}return t}function ct(){Le||((Le=function(e,t){this.node=t,this.Ob=function(e){this.Pa=e},this.Ob(e),this.message="FS error"}).prototype=Error(),Le.prototype.constructor=Le,[44].forEach((function(e){je[e]=new Le(e),je[e].stack="<generic error, no stack>"})))}function ut(e,t){var n=0;return e&&(n|=365),t&&(n|=146),n}function dt(e,t,n){e=de("/dev/"+e);var r=ut(!!t,!!n);ft||(ft=64);var a=ft++<<8|0;Ge(a,{open:function(e){e.seekable=!1},close:function(){n&&n.buffer&&n.buffer.length&&n(10)},read:function(e,n,r,a){for(var o=0,i=0;i<a;i++){try{var l=t()}catch(e){throw new Le(29)}if(void 0===l&&0===o)throw new Le(6);if(null==l)break;o++,n[r+i]=l}return o&&(e.node.timestamp=Date.now()),o},write:function(e,t,r,a){for(var o=0;o<a;o++)try{n(t[r+o])}catch(e){throw new Le(29)}return a&&(e.node.timestamp=Date.now()),o}}),Ye(e,r,a)}var ft,pt,mt,ht={},gt={};function bt(e,t,n){try{var r=e(t)}catch(e){if(e&&e.node&&de(t)!==de(Fe(e.node)))return-54;throw e}return R[n>>2]=r.dev,R[n+4>>2]=0,R[n+8>>2]=r.ino,R[n+12>>2]=r.mode,R[n+16>>2]=r.nlink,R[n+20>>2]=r.uid,R[n+24>>2]=r.gid,R[n+28>>2]=r.rdev,R[n+32>>2]=0,ee=[r.size>>>0,(X=r.size,1<=+Math.abs(X)?0<X?(0|Math.min(+Math.floor(X/4294967296),4294967295))>>>0:~~+Math.ceil((X-+(~~X>>>0))/4294967296)>>>0:0)],R[n+40>>2]=ee[0],R[n+44>>2]=ee[1],R[n+48>>2]=4096,R[n+52>>2]=r.blocks,R[n+56>>2]=r.atime.getTime()/1e3|0,R[n+60>>2]=0,R[n+64>>2]=r.mtime.getTime()/1e3|0,R[n+68>>2]=0,R[n+72>>2]=r.ctime.getTime()/1e3|0,R[n+76>>2]=0,ee=[r.ino>>>0,(X=r.ino,1<=+Math.abs(X)?0<X?(0|Math.min(+Math.floor(X/4294967296),4294967295))>>>0:~~+Math.ceil((X-+(~~X>>>0))/4294967296)>>>0:0)],R[n+80>>2]=ee[0],R[n+84>>2]=ee[1],0}var yt,vt=void 0;function wt(){return R[(vt+=4)-4>>2]}function _t(e){if(!(e=Ee[e]))throw new Le(8);return e}yt=y?function(){var e=process.hrtime();return 1e3*e[0]+e[1]/1e6}:function(){return performance.now()};var xt,St={};function Et(){if(!xt){var e,t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:h||"./this.program"};for(e in St)void 0===St[e]?delete t[e]:t[e]=St[e];var n=[];for(e in t)n.push(e+"="+t[e]);xt=n}return xt}function Mt(e,t,n,r){e||(e=this),this.parent=e,this.Va=e.Va,this.$a=null,this.id=Me++,this.name=t,this.mode=n,this.La={},this.Ma={},this.rdev=r}function Ot(e,t){var n=Array(K(e)+1);return e=W(e,n,0,n.length),t&&(n.length=e),n}Object.defineProperties(Mt.prototype,{read:{get:function(){return 365==(365&this.mode)},set:function(e){e?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146==(146&this.mode)},set:function(e){e?this.mode|=146:this.mode&=-147}}}),ct(),Oe=Array(4096),Ue(_e,"/"),Qe("/tmp"),Qe("/home"),Qe("/home/web_user"),function(){Qe("/dev"),Ge(259,{read:function(){return 0},write:function(e,t,n,r){return r}}),Ye("/dev/null",259),ge(1280,ye),ge(1536,ve),Ye("/dev/tty",1280),Ye("/dev/tty1",1536);var e=function(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var e=new Uint8Array(1);return function(){return crypto.getRandomValues(e),e[0]}}if(y)try{var t=n(9824);return function(){return t.randomBytes(1)[0]}}catch(e){}return function(){oe("randomDevice")}}();dt("random",e),dt("urandom",e),Qe("/dev/shm"),Qe("/dev/shm/tmp")}(),function(){Qe("/proc");var e=Qe("/proc/self");Qe("/proc/self/fd"),Ue({Va:function(){var t=qe(e,"fd",16895,73);return t.La={lookup:function(e,t){var n=Ee[+t];if(!n)throw new Le(8);return(e={parent:null,Va:{Ab:"fake"},La:{readlink:function(){return n.path}}}).parent=e}},t}},"/proc/self/fd")}();var kt={a:function(e,t,n,r){oe("Assertion failed: "+$(e)+", at: "+[t?$(t):"unknown filename",n,r?$(r):"unknown function"])},r:function(e,t){te||(te=!0,function(){function e(e){return(e=e.toTimeString().match(/\(([A-Za-z ]+)\)$/))?e[1]:"GMT"}var t=(new Date).getFullYear(),n=new Date(t,0,1),r=new Date(t,6,1);t=n.getTimezoneOffset();var a=r.getTimezoneOffset(),o=Math.max(t,a);R[At()>>2]=60*o,R[Pt()>>2]=Number(t!=a),n=e(n),r=e(r),n=G(n),r=G(r),a<t?(R[Ft()>>2]=n,R[Ft()+4>>2]=r):(R[Ft()>>2]=r,R[Ft()+4>>2]=n)}()),e=new Date(1e3*R[e>>2]),R[t>>2]=e.getSeconds(),R[t+4>>2]=e.getMinutes(),R[t+8>>2]=e.getHours(),R[t+12>>2]=e.getDate(),R[t+16>>2]=e.getMonth(),R[t+20>>2]=e.getFullYear()-1900,R[t+24>>2]=e.getDay();var n=new Date(e.getFullYear(),0,1);R[t+28>>2]=(e.getTime()-n.getTime())/864e5|0,R[t+36>>2]=-60*e.getTimezoneOffset();var r=new Date(e.getFullYear(),6,1).getTimezoneOffset();return e=0|(r!=(n=n.getTimezoneOffset())&&e.getTimezoneOffset()==Math.min(n,r)),R[t+32>>2]=e,e=R[Ft()+(e?4:0)>>2],R[t+40>>2]=e,t},x:function(e,t){try{var n;if(e=$(e),-8&t)var r=-28;else(n=Te(e,{Xa:!0}).node)?(e="",4&t&&(e+="r"),2&t&&(e+="w"),1&t&&(e+="x"),r=e&&ze(n,e)?-2:0):r=-44;return r}catch(e){return void 0!==ht&&e instanceof Le||oe(e),-e.Pa}},G:function(e,t){try{return tt(e=$(e),t),0}catch(e){return void 0!==ht&&e instanceof Le||oe(e),-e.Pa}},B:function(e){try{return nt(e=$(e)),0}catch(e){return void 0!==ht&&e instanceof Le||oe(e),-e.Pa}},H:function(e,t){try{var n=Ee[e];if(!n)throw new Le(8);return tt(n.node,t),0}catch(e){return void 0!==ht&&e instanceof Le||oe(e),-e.Pa}},C:function(e){try{var t=Ee[e];if(!t)throw new Le(8);return nt(t.node),0}catch(e){return void 0!==ht&&e instanceof Le||oe(e),-e.Pa}},b:function(e,t,n){vt=n;try{var r=_t(e);switch(t){case 0:var a=wt();return 0>a?-28:at(r.path,r.flags,0,a).fd;case 1:case 2:return 0;case 3:return r.flags;case 4:return a=wt(),r.flags|=a,0;case 12:return a=wt(),q[a+0>>1]=2,0;case 13:case 14:return 0;case 16:case 8:return-28;case 9:return R[Ct()>>2]=28,-1;default:return-28}}catch(e){return void 0!==ht&&e instanceof Le||oe(e),-e.Pa}},F:function(e,t){try{return bt(Xe,_t(e).path,t)}catch(e){return void 0!==ht&&e instanceof Le||oe(e),-e.Pa}},D:function(e,t,n){try{var r=Ee[e];if(!r)throw new Le(8);if(0==(2097155&r.flags))throw new Le(28);return rt(r.node,n),0}catch(e){return void 0!==ht&&e instanceof Le||oe(e),-e.Pa}},t:function(e,t){try{return 0===t?-28:t<K("/")+1?-68:(W("/",D,e,t),e)}catch(e){return void 0!==ht&&e instanceof Le||oe(e),-e.Pa}},s:function(){return 0},d:function(){return 42},J:function(e,t){try{return bt(et,e=$(e),t)}catch(e){return void 0!==ht&&e instanceof Le||oe(e),-e.Pa}},I:function(e,t){try{return"/"===(e=de(e=$(e)))[e.length-1]&&(e=e.substr(0,e.length-1)),Qe(e,t),0}catch(e){return void 0!==ht&&e instanceof Le||oe(e),-e.Pa}},k:function(e,t,n,r,a,o){try{e:{o<<=12;var i=!1;if(0!=(16&r)&&0!=e%65536)var l=-28;else{if(0!=(32&r)){var s=we(t);if(!s){l=-48;break e}i=!0}else{var c=Ee[a];if(!c){l=-8;break e}var u=o;if(0!=(2&n)&&0==(2&r)&&2!=(2097155&c.flags))throw new Le(2);if(1==(2097155&c.flags))throw new Le(2);if(!c.Ma.gb)throw new Le(43);var d=c.Ma.gb(c,e,t,u,n,r);s=d.Mb,i=d.jb}gt[s]={Jb:s,Ib:t,jb:i,fd:a,Lb:n,flags:r,offset:o},l=s}}return l}catch(e){return void 0!==ht&&e instanceof Le||oe(e),-e.Pa}},j:function(e,t){try{var n=gt[e];if(0!==t&&n){if(t===n.Ib){var r=Ee[n.fd];if(r&&2&n.Lb){var a=n.flags,o=n.offset,i=D.slice(e,e+t);r&&r.Ma.hb&&r.Ma.hb(r,i,o,t,a)}gt[e]=null,n.jb&&jt(n.Jb)}var l=0}else l=-28;return l}catch(e){return void 0!==ht&&e instanceof Le||oe(e),-e.Pa}},h:function(e,t,n){vt=n;try{return at($(e),t,n?wt():0).fd}catch(e){return void 0!==ht&&e instanceof Le||oe(e),-e.Pa}},E:function(e,t,n){try{if(e=$(e),0>=n)var r=-28;else{var a=Ze(e),o=Math.min(n,K(a)),i=A[t+o];W(a,D,t,n+1),A[t+o]=i,r=o}return r}catch(e){return void 0!==ht&&e instanceof Le||oe(e),-e.Pa}},y:function(e){try{var t=Te(e=$(e),{parent:!0}).node,n=pe(e),r=De(t,n),a=$e(t,n,!0);if(a)throw new Le(a);if(!t.La.rmdir)throw new Le(63);if(r.$a)throw new Le(10);try{Ce.willDeletePath&&Ce.willDeletePath(e)}catch(t){_("FS.trackingDelegate['willDeletePath']('"+e+"') threw an exception: "+t.message)}t.La.rmdir(t,n),Ae(r);try{Ce.onDeletePath&&Ce.onDeletePath(e)}catch(t){_("FS.trackingDelegate['onDeletePath']('"+e+"') threw an exception: "+t.message)}return 0}catch(e){return void 0!==ht&&e instanceof Le||oe(e),-e.Pa}},f:function(e,t){try{return bt(Xe,e=$(e),t)}catch(e){return void 0!==ht&&e instanceof Le||oe(e),-e.Pa}},u:function(e){try{return Je(e=$(e)),0}catch(e){return void 0!==ht&&e instanceof Le||oe(e),-e.Pa}},i:function(){return 2147483648},m:function(e,t,n){D.copyWithin(e,t,t+n)},c:function(e){var t=D.length;if(2147483648<(e>>>=0))return!1;for(var n=1;4>=n;n*=2){var r=t*(1+.2/n);r=Math.min(r,e+100663296),0<(r=Math.max(e,r))%65536&&(r+=65536-r%65536);e:{try{C.grow(Math.min(2147483648,r)-P.byteLength+65535>>>16),U();var a=1;break e}catch(e){}a=void 0}if(a)return!0}return!1},q:function(e){for(var t=yt();yt()-t<e;);},o:function(e,t){var n=0;return Et().forEach((function(r,a){var o=t+n;for(a=R[e+4*a>>2]=o,o=0;o<r.length;++o)A[a++>>0]=r.charCodeAt(o);A[a>>0]=0,n+=r.length+1})),0},p:function(e,t){var n=Et();R[e>>2]=n.length;var r=0;return n.forEach((function(e){r+=e.length+1})),R[t>>2]=r,0},e:function(e){try{return ot(_t(e)),0}catch(e){return void 0!==ht&&e instanceof Le||oe(e),e.Pa}},n:function(e,t){try{var n=_t(e);return A[t>>0]=n.tty?2:Re(n.mode)?3:40960==(61440&n.mode)?7:4,0}catch(e){return void 0!==ht&&e instanceof Le||oe(e),e.Pa}},z:function(e,t,n,r){try{e:{for(var a=_t(e),o=e=0;o<n;o++){var i=R[t+(8*o+4)>>2],l=lt(a,A,R[t+8*o>>2],i,void 0);if(0>l){var s=-1;break e}if(e+=l,l<i)break}s=e}return R[r>>2]=s,0}catch(e){return void 0!==ht&&e instanceof Le||oe(e),e.Pa}},l:function(e,t,n,r,a){try{var o=_t(e);return-9007199254740992>=(e=4294967296*n+(t>>>0))||9007199254740992<=e?-61:(it(o,e,r),ee=[o.position>>>0,(X=o.position,1<=+Math.abs(X)?0<X?(0|Math.min(+Math.floor(X/4294967296),4294967295))>>>0:~~+Math.ceil((X-+(~~X>>>0))/4294967296)>>>0:0)],R[a>>2]=ee[0],R[a+4>>2]=ee[1],o.nb&&0===e&&0===r&&(o.nb=null),0)}catch(e){return void 0!==ht&&e instanceof Le||oe(e),e.Pa}},w:function(e){try{var t=_t(e);return t.Ma&&t.Ma.fsync?-t.Ma.fsync(t):0}catch(e){return void 0!==ht&&e instanceof Le||oe(e),e.Pa}},v:function(e,t,n,r){try{e:{for(var a=_t(e),o=e=0;o<n;o++){var i=st(a,A,R[t+8*o>>2],R[t+(8*o+4)>>2],void 0);if(0>i){var l=-1;break e}e+=i}l=e}return R[r>>2]=l,0}catch(e){return void 0!==ht&&e instanceof Le||oe(e),e.Pa}},g:function(e){var t=Date.now();return R[e>>2]=t/1e3|0,R[e+4>>2]=t%1e3*1e3|0,0},K:function(e){var t=Date.now()/1e3|0;return e&&(R[e>>2]=t),t},A:function(e,t){if(t){var n=t+8;t=1e3*R[n>>2],t+=R[n+4>>2]/1e3}else t=Date.now();e=$(e);try{var r=Te(e,{Xa:!0}).node;r.La.Sa(r,{timestamp:Math.max(t,t)});var a=0}catch(e){if(!(e instanceof Le)){e:{if(!(a=Error()).stack){try{throw Error()}catch(e){a=e}if(!a.stack){a="(no stack trace available)";break e}}a=a.stack.toString()}throw o.extraStackTrace&&(a+="\n"+o.extraStackTrace()),e+" : "+(a=function(e){return e.replace(/\b_Z[\w\d_]+/g,(function(e){return e==e?e:e+" ["+e+"]"}))}(a))}a=e.Pa,R[Ct()>>2]=a,a=-1}return a}};!function(){function e(e){o.asm=e.exports,C=o.asm.L,U(),V=o.asm.Ca,Y.unshift(o.asm.M),ne--,o.monitorRunDependencies&&o.monitorRunDependencies(ne),0==ne&&(null!==re&&(clearInterval(re),re=null),ae&&(e=ae,ae=null,e()))}function t(t){e(t.instance)}function n(e){return function(){if(!S&&(g||b)){if("function"==typeof fetch&&!Z.startsWith("file://"))return fetch(Z,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at '"+Z+"'";return e.arrayBuffer()})).catch((function(){return se()}));if(d)return new Promise((function(e,t){d(Z,(function(t){e(new Uint8Array(t))}),t)}))}return Promise.resolve().then((function(){return se()}))}().then((function(e){return WebAssembly.instantiate(e,r)})).then((function(e){return e})).then(e,(function(e){_("failed to asynchronously prepare wasm: "+e),oe(e)}))}var r={a:kt};if(ne++,o.monitorRunDependencies&&o.monitorRunDependencies(ne),o.instantiateWasm)try{return o.instantiateWasm(r,e)}catch(e){return _("Module.instantiateWasm callback failed with error: "+e),!1}S||"function"!=typeof WebAssembly.instantiateStreaming||ie()||Z.startsWith("file://")||"function"!=typeof fetch?n(t):fetch(Z,{credentials:"same-origin"}).then((function(e){return WebAssembly.instantiateStreaming(e,r).then(t,(function(e){return _("wasm streaming compile failed: "+e),_("falling back to ArrayBuffer instantiation"),n(t)}))}))}(),o.___wasm_call_ctors=function(){return(o.___wasm_call_ctors=o.asm.M).apply(null,arguments)},o._sqlite3_free=function(){return(o._sqlite3_free=o.asm.N).apply(null,arguments)};var Ct=o.___errno_location=function(){return(Ct=o.___errno_location=o.asm.O).apply(null,arguments)};o._sqlite3_step=function(){return(o._sqlite3_step=o.asm.P).apply(null,arguments)},o._sqlite3_finalize=function(){return(o._sqlite3_finalize=o.asm.Q).apply(null,arguments)},o._sqlite3_prepare_v2=function(){return(o._sqlite3_prepare_v2=o.asm.R).apply(null,arguments)},o._sqlite3_reset=function(){return(o._sqlite3_reset=o.asm.S).apply(null,arguments)},o._sqlite3_clear_bindings=function(){return(o._sqlite3_clear_bindings=o.asm.T).apply(null,arguments)},o._sqlite3_value_blob=function(){return(o._sqlite3_value_blob=o.asm.U).apply(null,arguments)},o._sqlite3_value_text=function(){return(o._sqlite3_value_text=o.asm.V).apply(null,arguments)},o._sqlite3_value_bytes=function(){return(o._sqlite3_value_bytes=o.asm.W).apply(null,arguments)},o._sqlite3_value_double=function(){return(o._sqlite3_value_double=o.asm.X).apply(null,arguments)},o._sqlite3_value_int=function(){return(o._sqlite3_value_int=o.asm.Y).apply(null,arguments)},o._sqlite3_value_type=function(){return(o._sqlite3_value_type=o.asm.Z).apply(null,arguments)},o._sqlite3_result_blob=function(){return(o._sqlite3_result_blob=o.asm._).apply(null,arguments)},o._sqlite3_result_double=function(){return(o._sqlite3_result_double=o.asm.$).apply(null,arguments)},o._sqlite3_result_error=function(){return(o._sqlite3_result_error=o.asm.aa).apply(null,arguments)},o._sqlite3_result_int=function(){return(o._sqlite3_result_int=o.asm.ba).apply(null,arguments)},o._sqlite3_result_int64=function(){return(o._sqlite3_result_int64=o.asm.ca).apply(null,arguments)},o._sqlite3_result_null=function(){return(o._sqlite3_result_null=o.asm.da).apply(null,arguments)},o._sqlite3_result_text=function(){return(o._sqlite3_result_text=o.asm.ea).apply(null,arguments)},o._sqlite3_column_count=function(){return(o._sqlite3_column_count=o.asm.fa).apply(null,arguments)},o._sqlite3_data_count=function(){return(o._sqlite3_data_count=o.asm.ga).apply(null,arguments)},o._sqlite3_column_blob=function(){return(o._sqlite3_column_blob=o.asm.ha).apply(null,arguments)},o._sqlite3_column_bytes=function(){return(o._sqlite3_column_bytes=o.asm.ia).apply(null,arguments)},o._sqlite3_column_double=function(){return(o._sqlite3_column_double=o.asm.ja).apply(null,arguments)},o._sqlite3_column_text=function(){return(o._sqlite3_column_text=o.asm.ka).apply(null,arguments)},o._sqlite3_column_type=function(){return(o._sqlite3_column_type=o.asm.la).apply(null,arguments)},o._sqlite3_column_name=function(){return(o._sqlite3_column_name=o.asm.ma).apply(null,arguments)},o._sqlite3_bind_blob=function(){return(o._sqlite3_bind_blob=o.asm.na).apply(null,arguments)},o._sqlite3_bind_double=function(){return(o._sqlite3_bind_double=o.asm.oa).apply(null,arguments)},o._sqlite3_bind_int=function(){return(o._sqlite3_bind_int=o.asm.pa).apply(null,arguments)},o._sqlite3_bind_text=function(){return(o._sqlite3_bind_text=o.asm.qa).apply(null,arguments)},o._sqlite3_bind_parameter_index=function(){return(o._sqlite3_bind_parameter_index=o.asm.ra).apply(null,arguments)},o._sqlite3_sql=function(){return(o._sqlite3_sql=o.asm.sa).apply(null,arguments)},o._sqlite3_normalized_sql=function(){return(o._sqlite3_normalized_sql=o.asm.ta).apply(null,arguments)},o._sqlite3_errmsg=function(){return(o._sqlite3_errmsg=o.asm.ua).apply(null,arguments)},o._sqlite3_exec=function(){return(o._sqlite3_exec=o.asm.va).apply(null,arguments)},o._sqlite3_changes=function(){return(o._sqlite3_changes=o.asm.wa).apply(null,arguments)},o._sqlite3_close_v2=function(){return(o._sqlite3_close_v2=o.asm.xa).apply(null,arguments)},o._sqlite3_create_function_v2=function(){return(o._sqlite3_create_function_v2=o.asm.ya).apply(null,arguments)},o._sqlite3_open=function(){return(o._sqlite3_open=o.asm.za).apply(null,arguments)};var Lt=o._malloc=function(){return(Lt=o._malloc=o.asm.Aa).apply(null,arguments)},jt=o._free=function(){return(jt=o._free=o.asm.Ba).apply(null,arguments)};o._RegisterExtensionFunctions=function(){return(o._RegisterExtensionFunctions=o.asm.Da).apply(null,arguments)};var Tt,Ft=o.__get_tzname=function(){return(Ft=o.__get_tzname=o.asm.Ea).apply(null,arguments)},Pt=o.__get_daylight=function(){return(Pt=o.__get_daylight=o.asm.Fa).apply(null,arguments)},At=o.__get_timezone=function(){return(At=o.__get_timezone=o.asm.Ga).apply(null,arguments)},Dt=o.stackSave=function(){return(Dt=o.stackSave=o.asm.Ha).apply(null,arguments)},qt=o.stackRestore=function(){return(qt=o.stackRestore=o.asm.Ia).apply(null,arguments)},Rt=o.stackAlloc=function(){return(Rt=o.stackAlloc=o.asm.Ja).apply(null,arguments)},It=o._memalign=function(){return(It=o._memalign=o.asm.Ka).apply(null,arguments)};function Bt(){function e(){if(!Tt&&(Tt=!0,o.calledRun=!0,!L)){if(o.noFSInit||We||(We=!0,ct(),o.stdin=o.stdin,o.stdout=o.stdout,o.stderr=o.stderr,o.stdin?dt("stdin",o.stdin):He("/dev/tty","/dev/stdin"),o.stdout?dt("stdout",null,o.stdout):He("/dev/tty","/dev/stdout"),o.stderr?dt("stderr",null,o.stderr):He("/dev/tty1","/dev/stderr"),at("/dev/stdin",0),at("/dev/stdout",1),at("/dev/stderr",1)),ke=!1,ce(Y),o.onRuntimeInitialized&&o.onRuntimeInitialized(),o.postRun)for("function"==typeof o.postRun&&(o.postRun=[o.postRun]);o.postRun.length;){var e=o.postRun.shift();H.unshift(e)}ce(H)}}if(!(0<ne)){if(o.preRun)for("function"==typeof o.preRun&&(o.preRun=[o.preRun]);o.preRun.length;)J();ce(Q),0<ne||(o.setStatus?(o.setStatus("Running..."),setTimeout((function(){setTimeout((function(){o.setStatus("")}),1),e()}),1)):e())}}if(o.cwrap=function(e,t,n,r){var a=(n=n||[]).every((function(e){return"number"===e}));return"string"!==t&&a&&!r?j(e):function(){return T(e,t,n,arguments)}},o.UTF8ToString=$,o.stackSave=Dt,o.stackRestore=qt,o.stackAlloc=Rt,ae=function e(){Tt||Bt(),Tt||(ae=e)},o.run=Bt,o.preInit)for("function"==typeof o.preInit&&(o.preInit=[o.preInit]);0<o.preInit.length;)o.preInit.pop()();return Bt(),i})))};e.exports=a,e.exports.default=a},8521:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.App=void 0;const a=r(n(8311)),o=r(n(3080)),i=n(2614),l=n(3845),s=n(4061),c=n(6324),u=n(9204),d=n(4243),f=n(6254),p=n(7796),m=n(9566),h=n(2607),g=n(1020),b=n(8015),y=n(9248);t.App=()=>a.default.createElement(g.ProvideAppState,null,a.default.createElement(_,null));const v=o.default.div`
  display: flex;
  width: 100%;
  height: 100%;
  overflow: hidden;
`,w=()=>{const{agencies:e,lines:t}=(0,f.useData2)();return a.default.createElement(v,null,a.default.createElement(l.OverviewMap,{lines:t}),a.default.createElement(c.Controls,null),a.default.createElement(u.SettingsDrawer,null),a.default.createElement(m.LegendDrawer,{allAgencies:e}),a.default.createElement(d.Logo,null),a.default.createElement(b.SearchBar,null))},_=()=>{const e=(0,i.useMediaQuery)("(prefers-color-scheme: dark)"),{appTheme:t}=(0,g.useAppState)(),n=a.default.useMemo((()=>{const n="system"===t&&e||"dark"===t;return(0,s.themeFactory)(n)}),[e,t]);return a.default.createElement(i.StyledEngineProvider,{injectFirst:!0},a.default.createElement(i.ThemeProvider,{theme:n},a.default.createElement(f.ProvideData2,null,a.default.createElement(p.ProvideWindow,null,a.default.createElement(h.ProvideMapTarget,null,a.default.createElement(y.ProvideGeolocation,null,a.default.createElement(w,null)))))))}},3180:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.search=t.processBounds=t.processFeatures=t.prepDatabase=void 0;const a=r(n(1421)),o=r(n(5767));function i(e){return`"${e.replace(/\"/g,'""')}"`}t.prepDatabase=async function(){const e=new((await(0,a.default)()).Database);return e.run(o.default),e},t.processFeatures=async function(e,t){e.exec("BEGIN TRANSACTION;");const n=e.prepare("INSERT INTO stations_search VALUES($name, $description, $parent, $terms, $lines, $lng, $lat)");t.forEach((e=>{n.run(e)})),e.exec("COMMIT;")},t.processBounds=async function(e,t){e.exec("BEGIN TRANSACTION;");const n=e.prepare("INSERT INTO bounds_search VALUES($name, $description, $terms, $id, $type, $bounds)");t.forEach((e=>{n.run(e)})),e.exec("COMMIT;")},t.search=async function(e,t){return[...await async function(e,t,n=10){if(""===t)return[];const r=e.prepare("SELECT *, rank FROM stations_search WHERE stations_search MATCH $query || '*' ORDER BY rank LIMIT $limit");r.bind({$query:t,$limit:n});const a=[];for(;r.step();){const e=r.getAsObject(),t={...e,type:"station",lines:e.lines.split(",")};a.push(t)}return r.free(),a}(e,i(t)),...await async function(e,t,n=10){if(""===t)return[];const r=e.prepare("SELECT *, rank FROM bounds_search WHERE bounds_search MATCH $query || '*' ORDER BY rank LIMIT $limit");r.bind({$query:t,$limit:n});const a=[];for(;r.step();){const e=r.getAsObject(),t={...e,bounds:JSON.parse(e.bounds)};a.push(t)}return r.free(),a}(e,i(t))].sort(((e,t)=>e.rank-t.rank))}},4061:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.themeFactory=void 0;const r=n(2614);t.themeFactory=(e=!1)=>(0,r.createTheme)({palette:e?o:a});const a={mode:"light",primary:{main:"#cc0000"},secondary:{main:"#cc0000"}},o={mode:"dark",primary:{main:"#ff4f30"},secondary:{main:"#ff4f30"}}},6368:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isLineEnabled=t.useIsDarkTheme=void 0;const r=n(2614);t.useIsDarkTheme=e=>{const t=(0,r.useMediaQuery)("(prefers-color-scheme: dark)");return"system"===e&&t||"dark"===e},t.isLineEnabled=(e,t)=>{var n;if(void 0===e)return!0;if(e.startsWith("!")){const n=e.split(",");let r=!0;return n.forEach((e=>{var n;r&&(r=!(null!==(n=t[e.slice(1)])&&void 0!==n&&n))})),r}return null!==(n=t[e])&&void 0!==n&&n}},9492:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Chevron=void 0;const a=r(n(3080));t.Chevron=a.default.div`
  display: inline-block;
  margin-top: 4px;
  width: 24px;
  height: 20px;
  &:before {
    width: 3px;
    height: 10px;
    transition: all 0.5s cubic-bezier(0.33, 1, 0.68, 1);
    display: inline-block;
    border-radius: 2px;
    background: ${e=>{var t;return null!==(t=e.color)&&void 0!==t?t:"#FFFFFF"}};
    transform: ${e=>e.down?"rotate(-135deg)":"rotate(-45deg)"};
    content: "";
  }
  &:after {
    width: 3px;
    height: 10px;
    transition: all 0.5s cubic-bezier(0.33, 1, 0.68, 1);
    display: inline-block;
    border-radius: 2px;
    background: ${e=>{var t;return null!==(t=e.color)&&void 0!==t?t:"#FFFFFF"}};
    transform: ${e=>e.down?"rotate(-45deg)":"rotate(-135deg)"};
    content: "";
    margin-left: 3px;
  }
`},4414:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ControlPaper=void 0;const a=r(n(3080)),o=n(2614);t.ControlPaper=(0,a.default)(o.Paper)`
  margin: ${({theme:e})=>e.spacing(.5)} 0;

  &:first-child {
    margin-top: 0;
  }

  &:last-child {
    margin-bottom: 0;
  }
`},2857:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var a=Object.getOwnPropertyDescriptor(t,n);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,a)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.MapIcon=void 0;const i=o(n(8311)),l=n(2606);t.MapIcon=({width:e,height:t,...n})=>{const r=window.devicePixelRatio,a=(0,i.useRef)(new Image(e*r,t*r)),{current:o}=(0,l.useMap)(),s=()=>{o.hasImage(n.id)||o.addImage(n.id,a.current,{pixelRatio:r})};return(0,i.useEffect)((()=>{const e=a.current;return e.onload=()=>{s()},e.src=n.url,o.on("styleimagemissing",(e=>{e.id===n.id&&s()})),()=>{o.hasImage(n.id)&&o.removeImage(n.id)}}),[]),i.default.createElement(i.default.Fragment,null)}},4132:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var a=Object.getOwnPropertyDescriptor(t,n);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,a)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Lines=void 0;const i=o(n(8311)),l=n(2606),s=n(3845),c=n(6368),u=n(1020),d={};t.Lines=i.default.memo((({showLineLabels:e,filterList:t})=>{const{labelStyle:n}=(0,i.useContext)(s.LabelProviderContext),{appTheme:r}=(0,u.useAppState)(),a=(0,c.useIsDarkTheme)(r),[o,f]=(0,i.useState)(null);return(0,i.useEffect)((()=>{f({type:"geojson",data:{type:"FeatureCollection",features:[]}}),fetch("assembled.json").then((e=>e.json())).then((e=>f({type:"geojson",data:e})))}),[]),i.default.createElement(l.Source,{id:"raildata",...o},i.default.createElement(l.Layer,{id:"yard-tracks",...d,type:"line",filter:["all",["==",["get","type"],"tracks"],["in",["get","class"],["literal",["rail-yard","streetcar-yard"]]],["!",["in",["get","filterKey"],["literal",t]]]],layout:{"line-join":"round","line-cap":"round","line-sort-key":["get","layer"]},paint:{"line-color":"#818181","line-width":["case",["==",["get","class"],"streetcar-yard"],2,3],"line-offset":["*",["get","offset"],["case",["==",["get","class"],"streetcar-yard"],2,3]]}}),i.default.createElement(l.Layer,{id:"rail-tunnel",...d,type:"fill",filter:["all",["==",["get","type"],"tunnel"],["!",["in",["get","filterKey"],["literal",t]]]],minzoom:14,layout:{"fill-sort-key":["get","layer"]},paint:{"fill-color":"#212121","fill-opacity":["interpolate",["linear"],["zoom"],14,0,15,.3]}}),i.default.createElement(l.Layer,{id:"rail-platforms",...d,type:"fill",filter:["all",["==",["get","type"],"station-platforms"],["!",["in",["get","filterKey"],["literal",t]]]],layout:{"fill-sort-key":["get","layer"]},paint:{"fill-color":["get","color"],"fill-opacity":.68}}),i.default.createElement(l.Layer,{id:"rail-platforms-future",...d,type:"line",filter:["all",["==",["get","type"],"station-platforms-future"],["!",["in",["get","filterKey"],["literal",t]]]],layout:{"line-sort-key":["get","layer"]},paint:{"line-color":["get","color"],"line-dasharray":[3,3],"line-width":1.5}}),i.default.createElement(l.Layer,{id:"rail-alignment",...d,type:"line",filter:["all",["==",["get","type"],"alignment"],["!",["in",["get","filterKey"],["literal",t]]]],layout:{"line-join":"round","line-cap":"round","line-sort-key":["get","layer"]},paint:{"line-color":["get","color"],"line-opacity":["interpolate",["linear"],["zoom"],14,1,20,.3],"line-width":["interpolate",["exponential",2],["zoom"],14,3,20,150],"line-offset":["interpolate",["exponential",2],["zoom"],14,["*",["get","offset"],3],20,["*",["get","offset"],150]]}}),i.default.createElement(l.Layer,{id:"rail-tracks",...d,type:"line",filter:["all",["==",["get","type"],"tracks"],["==",["get","class"],"rail-line"],["!",["in",["get","filterKey"],["literal",t]]]],layout:{"line-join":"round","line-cap":"round","line-sort-key":["get","layer"]},paint:{"line-color":["get","color"],"line-width":3,"line-offset":["*",["get","offset"],3]}}),i.default.createElement(l.Layer,{id:"streetcar-tracks",...d,type:"line",filter:["all",["==",["get","type"],"tracks"],["==",["get","class"],"streetcar-line"],["!",["in",["get","filterKey"],["literal",t]]]],layout:{"line-join":"round","line-cap":"round","line-sort-key":["get","layer"]},paint:{"line-color":["get","color"],"line-width":1.5,"line-offset":["*",["get","offset"],1.5]}}),i.default.createElement(l.Layer,{id:"rail-tracks-future",...d,type:"line",filter:["all",["==",["get","type"],"tracks-future"],["!",["in",["get","filterKey"],["literal",t]]]],layout:{"line-join":"round","line-cap":"round","line-sort-key":["get","layer"]},paint:{"line-color":["get","color"],"line-width":3,"line-dasharray":[3,3]}}),i.default.createElement(l.Layer,{id:"rail-overpass",...d,type:"line",filter:["all",["==",["get","type"],"overpass"],["!",["in",["get","filterKey"],["literal",t]]]],minzoom:14,layout:{"line-join":"round","line-cap":"butt","line-sort-key":["get","layer"]},paint:{"line-color":["get","color"],"line-width":1,"line-gap-width":["interpolate",["exponential",2],["zoom"],15,0,18,15],"line-offset":["*",["get","offset"],3]}}),i.default.createElement(l.Layer,{id:"rail-connector-labels-dash",...d,type:"line",filter:["all",["==",["get","type"],"station-connector-label"],["!",["in",["get","filterKey"],["literal",t]]]],minzoom:15,layout:{"line-cap":"round"},paint:{"line-width":2,"line-color":a?"#FFFFFF":"#212121","line-gap-width":10,"line-dasharray":[4,4]}}),i.default.createElement(l.Layer,{id:"streetcar-rail-station",...d,type:"circle",filter:["all",["==",["get","type"],"station-label"],["==",["get","class"],"streetcar-line"],["!",["in",["get","filterKey"],["literal",t]]]],minzoom:11,layout:{},paint:{"circle-color":"#FFFFFF","circle-stroke-color":["get","color"],"circle-stroke-width":2,"circle-radius":["interpolate",["exponential",2],["zoom"],10,2,17,6],"circle-pitch-alignment":"map"}}),i.default.createElement(l.Layer,{id:"rail-station",...d,type:"circle",filter:["all",["==",["get","type"],"station-label"],["==",["get","class"],"rail-line"],["!",["in",["get","filterKey"],["literal",t]]]],layout:{},paint:{"circle-color":"#ffffff","circle-stroke-color":"#212121","circle-stroke-width":2,"circle-radius":["interpolate",["linear"],["zoom"],10,2,13.5,6],"circle-pitch-alignment":"map"}}),i.default.createElement(l.Layer,{id:"rail-connector-labels-bg",...d,type:"line",filter:["all",["==",["get","type"],"station-connector-label"],["!",["in",["get","filterKey"],["literal",t]]]],maxzoom:16,layout:{"line-cap":"round"},paint:{"line-width":["interpolate",["linear"],["zoom"],10,8,13.5,16],"line-color":"#212121","line-opacity":["interpolate",["linear"],["zoom"],15,1,16,0]}}),i.default.createElement(l.Layer,{id:"rail-connector-labels",...d,type:"line",filter:["all",["==",["get","type"],"station-connector-label"],["!",["in",["get","filterKey"],["literal",t]]]],maxzoom:16,layout:{"line-cap":"round"},paint:{"line-width":["interpolate",["linear"],["zoom"],10,4,13.5,12],"line-color":"#FFFFFF","line-opacity":["interpolate",["linear"],["zoom"],15,1,16,0]}}),e&&i.default.createElement(l.Layer,{id:"yard-labels",...d,type:"symbol",filter:["all",["==",["get","type"],"yard-label"],["!",["in",["get","filterKey"],["literal",t]]]],minzoom:14,layout:{"text-field":["get","name"],"text-anchor":"center","text-optional":!0,"text-font":["Raleway Bold"],"text-size":16,"icon-image":"label-background","icon-text-fit":"both","icon-text-fit-padding":[1,4,0,4]},paint:{"text-color":"#FFFFFF"}}),e&&i.default.createElement(l.Layer,{id:"rail-labels",...d,type:"symbol",filter:["all",["==",["get","class"],"rail-line"],["==",["get","type"],"station-label"],["!",["in",["get","filterKey"],["literal",t]]],[">=",["zoom"],["match",["get","scale"],"large",7,13]]],layout:{"text-field":n,"text-anchor":"left","text-offset":[.75,0],"text-font":["Raleway Bold"],"text-size":16,"icon-image":"label-background","icon-text-fit":"both","icon-text-fit-padding":[1,4,0,4]},paint:{"text-color":"#FFFFFF"}}),e&&i.default.createElement(l.Layer,{id:"streetcar-labels",...d,type:"symbol",filter:["all",["==",["get","class"],"streetcar-line"],["==",["get","type"],"station-label"],["!",["in",["get","filterKey"],["literal",t]]]],minzoom:15,layout:{"text-field":n,"text-anchor":"left","text-offset":[.75,0],"text-font":["Raleway Bold"],"text-size":16,"icon-image":"label-background","icon-text-fit":"both","icon-text-fit-padding":[1,4,0,4]},paint:{"text-color":"#FFFFFF"}}),e&&i.default.createElement(l.Layer,{id:"rail-labels-major",...d,type:"symbol",filter:["all",["==",["get","type"],"station-label"],["==",["get","major"],!0],["!",["in",["get","filterKey"],["literal",t]]],["<",["zoom"],["match",["get","scale"],"large",7,13]],[">=",["zoom"],["match",["get","scale"],"large",4,9]]],layout:{"text-field":n,"text-anchor":"left","text-offset":[.75,0],"text-font":["Raleway Bold"],"text-size":16,"icon-image":"label-background","icon-text-fit":"both","icon-text-fit-padding":[1,4,0,4]},paint:{"text-color":"#FFFFFF"}}))}))},4243:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Logo=void 0;const a=r(n(8311)),o=n(6368),i=r(n(380)),l=r(n(4559)),s=n(1020),c=r(n(3080)).default.img`
  position: fixed;
  width: 140px;
  bottom: ${({theme:e})=>e.spacing(2)};
  left: calc(50% - 70px);
`;t.Logo=()=>{const{appTheme:e}=(0,s.useAppState)(),t=(0,o.useIsDarkTheme)(e);return a.default.createElement("a",{href:"https://www.railfans.ca"},a.default.createElement(c,{alt:"RailFans Canada Logo",src:t?l.default:i.default}))}},3845:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var a=Object.getOwnPropertyDescriptor(t,n);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,a)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.OverviewMap=t.LabelProviderContext=void 0;const l=o(n(8311)),s=o(n(2606));n(9863);const c=n(4132),u=n(6368),d=n(2857),f=n(7796),p=i(n(8617)),m=n(2607),h=n(1020),g=n(223),b=n(3),y=n(1962),v=n(9248),w=(e,t)=>{const n={...e};return t.filter((e=>{var t;return!(null===(t=e.filterKey)||void 0===t?void 0:t.startsWith("!"))})).forEach((e=>{e.filterKey&&!n.hasOwnProperty(e.filterKey)&&(n[e.filterKey]=!1)})),[...Object.entries(n).filter((([e,t])=>!t)).map((([e])=>e)),...Object.entries(n).filter((([e,t])=>t)).map((([e])=>`!${e}`))]};t.LabelProviderContext=l.default.createContext({labelStyle:[]});const _={type:"FeatureCollection",features:b.config.regions.map((e=>({type:"Feature",bbox:e.bbox,geometry:{type:"Point",coordinates:e.location},properties:{type:"region-label",id:e.id,name:e.title,target:e.bbox}})))},x=null!=localStorage.settings?JSON.parse(localStorage.settings).lastLocation:null,S=x?{longitude:x[0],latitude:x[1],zoom:x[2],bearing:x[3]}:{longitude:-73.5713,latitude:45.5163,zoom:11.35};t.OverviewMap=e=>{const n=(0,g.useTheme)(),r=(0,f.useWindow)(),{legendDrawerOpen:a,settingsDrawerOpen:o,appTheme:i,mapStyle:b,show3DBuildings:x,showLabels:E,lineFilterState:M,setLastLocation:O,showGeolocation:k}=(0,h.useAppState)(),C=(0,l.useRef)(),{target:L,setTarget:j}=(0,m.useMapTarget)();(0,l.useEffect)((()=>{var e;if(null!=L){const t=null===(e=C.current)||void 0===e?void 0:e.getMap();null==t||t.fitBounds(L,{padding:64})}}),[L]),(0,l.useEffect)((()=>{var e,t;const i=o||a;if(r[0]>n.breakpoints.values.md){const n={right:i?420:0};null===(t=null===(e=C.current)||void 0===e?void 0:e.getMap())||void 0===t||t.easeTo({padding:n})}}),[o,a,r]);const T=(0,u.useIsDarkTheme)(i),[F,P]=(0,l.useState)("satellite"===b?"mapbox://styles/mapbox/satellite-streets-v11":T?"mapbox://styles/mapbox/dark-v10":"mapbox://styles/mapbox/light-v10"),[A,D]=(0,l.useState)([]),[q,R]=(0,l.useState)(null);(0,l.useEffect)((()=>{P("satellite"===b?"mapbox://styles/mapbox/satellite-streets-v11":T?"mapbox://styles/mapbox/dark-v10":"mapbox://styles/mapbox/light-v10")}),[T,i,b]),(0,l.useEffect)((()=>{var t,n;D((t=e.lines,n=M,["format",["get","name"],{}," ",{},...Object.values(t).filter((e=>null!=e.icon&&(0,u.isLineEnabled)(e.filterKey,n))).map((e=>e.id)).sort().flatMap((e=>[["case",["in",e,["get","lines"]],["image",e],""],{}]))]))}),[e.lines,M]);const[I,B]=(0,l.useState)([]);(0,l.useEffect)((()=>{B(E?["rail-station","rail-labels","yard-labels","regions-labels"]:["rail-station","regions-labels"])}),[E]);const{geolocation:z}=(0,v.useGeolocation)();return l.default.createElement(s.default,{style:{width:r[0],height:r[1]},mapStyle:F,mapboxAccessToken:"pk.eyJ1IjoiZGVsbGlzZCIsImEiOiJjazBoZm03OG8wMjR2M2lxbjNqcHgyc3BvIn0.XPgZCMrBCvS-usaM2bnjlA",hash:!0,onMoveEnd:e=>{j(void 0);const{longitude:t,latitude:n,zoom:r,bearing:a}=e.viewState;O([t,n,r,null!=a?a:0])},onClick:e=>{if(null!=e.features)for(let t of e.features){if("station-label"===t.properties.type){null!=t.properties.url&&"null"!==t.properties.url&&(window.parent.location.href=t.properties.url);break}if("region-label"===t.properties.type){j(JSON.parse(t.properties.target));break}}},onMouseEnter:e=>{var t,n;const r=null===(n=null===(t=C.current)||void 0===t?void 0:t.getMap())||void 0===n?void 0:n.getCanvas();if(null!=r&&(r.style.cursor="pointer",e.features.length>0)){const t=e.features[0];null!=t.properties.url&&"Point"===t.geometry.type&&R(t.geometry.coordinates)}},onMouseLeave:e=>{var t,n;const r=null===(n=null===(t=C.current)||void 0===t?void 0:t.getMap())||void 0===n?void 0:n.getCanvas();null!=r&&(r.style.cursor="",R(null))},ref:C,initialViewState:S,attributionControl:!1,maxPitch:85,interactiveLayerIds:I},l.default.createElement(s.AttributionControl,{compact:r[0]<=600,position:"bottom-right",customAttribution:`Updated on ${new Date(1674924721914).toLocaleDateString()}`}),l.default.createElement(t.LabelProviderContext.Provider,{value:{labelStyle:A}},Object.values(e.lines).filter((e=>null!=e.icon)).map((e=>l.default.createElement(d.MapIcon,{style:F,width:16,height:16,id:e.id,key:e.id,url:`icons/${e.icon}`}))),l.default.createElement(d.MapIcon,{style:F,width:24,height:24,id:"label-background",url:p.default}),l.default.createElement(s.Layer,{id:"sky",type:"sky",paint:{"sky-atmosphere-sun":T?[0,95]:[0,0]}}),x&&l.default.createElement(s.Layer,{id:"3d-buildings",source:"composite","source-layer":"building",filter:["==","extrude","true"],type:"fill-extrusion",minzoom:15,paint:{"fill-extrusion-color":T?"#212121":"#FFFFFF","fill-extrusion-height":["interpolate",["linear"],["zoom"],15,0,15.05,["get","height"]],"fill-extrusion-base":["interpolate",["linear"],["zoom"],15,0,15.05,["get","min_height"]],"fill-extrusion-opacity":.6}}),l.default.createElement(c.Lines,{showLineLabels:E,filterList:w(M,Object.values(e.lines))})),l.default.createElement(s.Source,{id:"regions",type:"geojson",data:_},l.default.createElement(s.Layer,{id:"regions-labels",type:"symbol",layout:{"text-field":["get","name"],"text-size":20},paint:{"text-color":T?"#FFFFFF":"#121212","text-halo-color":T?"#121212":"#FFFFFF","text-halo-width":2},maxzoom:9})),q&&l.default.createElement(s.Popup,{longitude:q[0],latitude:q[1],closeButton:!1,anchor:"top-left",offset:4,className:"mapbox-popup"},"View Station Profile"),k&&z&&l.default.createElement(s.Source,{type:"geojson",data:{type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Point",coordinates:z},properties:{}}]}},l.default.createElement(s.Layer,{id:"geolocation-circle-glow",type:"circle",paint:{"circle-color":"#5fb7ff","circle-radius":12,"circle-blur":1}}),l.default.createElement(s.Layer,{id:"geolocation-circle",type:"circle",paint:{"circle-color":"#038cfc","circle-radius":6,"circle-stroke-color":"#FFFFFF","circle-stroke-width":2}})),l.default.createElement(y.MapControls,null))}},1962:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var a=Object.getOwnPropertyDescriptor(t,n);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,a)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.MapControls=void 0;const l=o(n(8311)),s=i(n(3080)),c=n(2614),u=n(7847),d=n(4414),f=n(2606),p=n(2607),m=i(n(7754)),h=i(n(5816)),g=n(9248),b=n(7796),y=n(1020),v=s.default.div`
  display: flex;
  flex-direction: column;
  position: fixed;
  right: ${({theme:e,hidden:t})=>t?e.spacing(-8):e.spacing(1)};
  bottom: ${({theme:e,smallPadding:t})=>e.spacing(t?4:5)};
  z-index: 1;
  transition: ${({theme:e})=>e.transitions.create("right")};
`;t.MapControls=()=>{var e;const{setTarget:t}=(0,p.useMapTarget)(),{current:n}=(0,f.useMap)(),[r,a]=(0,l.useState)(null!==(e=null==n?void 0:n.getBearing())&&void 0!==e?e:0),[o,i]=(0,l.useState)(!1),{requestGeolocation:s,requestGeolocationWatch:w}=(0,g.useGeolocation)(),[_,x]=(0,l.useState)(!1),{searchOpen:S}=(0,y.useAppState)(),[E]=(0,b.useWindow)();return(0,l.useEffect)((()=>{null==n||n.on("rotate",(e=>{a(e.target.getBearing())})),null==n||n.on("movestart",(()=>{_?(x(!1),i(!0)):i(!1)})),null==n||n.on("moveend",(()=>{}))})),l.default.createElement(v,{smallPadding:E>600,hidden:!(E>600)&&S},l.default.createElement(d.ControlPaper,null,l.default.createElement(c.Tooltip,{title:"Jump to Current Location",placement:"left"},l.default.createElement(c.IconButton,{size:"large",onClick:()=>{s().then((e=>{const n=(0,m.default)({type:"Point",coordinates:e},.5,{units:"kilometers"});t((0,h.default)(n)),i(!0),x(!0),w()}))}},o?l.default.createElement(u.GpsFixed,null):l.default.createElement(u.GpsNotFixed,null)))),l.default.createElement(d.ControlPaper,null,l.default.createElement(c.Tooltip,{title:"Zoom In",placement:"left"},l.default.createElement(c.IconButton,{size:"large",onClick:()=>{null==n||n.zoomIn()}},l.default.createElement(u.Add,null))),l.default.createElement(c.Divider,null),l.default.createElement(c.Tooltip,{title:"Zoom Out",placement:"left"},l.default.createElement(c.IconButton,{size:"large",onClick:()=>{null==n||n.zoomOut()}},l.default.createElement(u.Remove,null)))),l.default.createElement(d.ControlPaper,null,l.default.createElement(c.Tooltip,{title:"Reset Orientation",placement:"left"},l.default.createElement(c.IconButton,{size:"large",onClick:()=>{null==n||n.resetNorth()}},l.default.createElement(u.Navigation,{style:{transform:`rotate(${-r}deg)`}})))))}},8015:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var a=Object.getOwnPropertyDescriptor(t,n);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,a)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SearchBar=void 0;const l=n(7847),s=n(2614),c=o(n(8311)),u=i(n(3080)),d=n(3180),f=n(6254),p=i(n(7754)),m=i(n(5816)),h=n(2607),g=n(1020),b=n(6368),y=n(7796),v=u.default.div`
  position: fixed;
  padding: ${({theme:e})=>e.spacing(1)};
  width: 400px;
  display: flex;
  flex-direction: column;
  box-sizing: border-box;
  z-index: 10;

  @media (max-width: 600px) {
    width: 100%;
  }
`,w=(0,u.default)(s.Paper)`
  padding: ${({theme:e,$expanded:t})=>e.spacing(.25)};
  width: ${e=>e.$expanded?"100%":"48px"};
  transition: ${({theme:e})=>e.transitions.create(["width","padding"])};
  overflow: clip;
  display: flex;
  box-sizing: border-box;
`,_=(0,u.default)(s.InputBase)`
  flex-grow: 1;
  margin-left: ${({theme:e})=>e.spacing(.25)};
  & input:placeholder-shown {
    text-overflow: ellipsis;
  }
`,x=(0,u.default)(s.IconButton)`
  padding: 10px;
`,S=(0,u.default)(s.Paper)`
  width: 100%;
  margin-top: ${({theme:e})=>e.spacing(1)};
`,E=u.default.img`
  height: 24px;
  width: 24px;
`,M=(0,u.default)(s.ListItemIcon)`
  justify-content: end;
`,O=(0,u.default)(s.ListItem)`
  user-select: none;
`,k=e=>{const{lines:t}=(0,f.useData2)();return c.default.createElement(s.ListItem,{disablePadding:!0,dense:!0},c.default.createElement(s.ListItemButton,{onClick:()=>e.onClick(e)},c.default.createElement(s.ListItemIcon,null,c.default.createElement(l.LocationOn,null)),c.default.createElement(s.ListItemText,{primary:e.name,secondary:e.description}),c.default.createElement(M,null,e.lines.filter((e=>t[e])).map((e=>c.default.createElement(E,{key:e,src:`icons/${t[e].icon}`}))))))},C=e=>{const{lines:t}=(0,f.useData2)();return c.default.createElement(s.ListItem,{disablePadding:!0,dense:!0},c.default.createElement(s.ListItemButton,{onClick:()=>e.onClick(e)},c.default.createElement(s.ListItemIcon,null,"rail-yard"===e.type?c.default.createElement(l.Build,null):c.default.createElement(l.Train,null)),c.default.createElement(s.ListItemText,{primary:e.name,secondary:e.description}),t[e.id].icon&&c.default.createElement(M,null,c.default.createElement(E,{src:`icons/${t[e.id].icon}`}))))},L=e=>{const{searchOpen:t,setSearchOpen:n}=(0,g.useAppState)();return c.default.createElement(w,{$expanded:t},c.default.createElement(x,{"aria-label":"Search Button",onClick:()=>n(!t)},c.default.createElement(l.Search,null)),c.default.createElement(_,{onChange:t=>{e.onQueryUpdate(t.target.value)},value:e.query,placeholder:"Search stations, lines, yards..."}),t&&c.default.createElement(x,{"aria-label":"Close Search",onClick:()=>{e.onQueryUpdate(""),n(!1)}},c.default.createElement(l.Close,null)))},j=e=>{const{searchOpen:t,setSearchOpen:n}=(0,g.useAppState)();return c.default.createElement(w,{$expanded:!0},c.default.createElement(x,{"aria-label":"Search Button"},c.default.createElement(l.Search,null)),c.default.createElement(_,{onChange:t=>{e.onQueryUpdate(t.target.value)},value:e.query,placeholder:"Search stations, lines, yards..."}),t&&c.default.createElement(x,{"aria-label":"Close Search",onClick:()=>{e.onQueryUpdate(""),n(!1)}},c.default.createElement(l.Close,null)))};t.SearchBar=()=>{const[e,t]=(0,c.useState)(""),{db:n,lines:r}=(0,f.useData2)(),[a,o]=(0,c.useState)([]),{searchOpen:i,setSearchOpen:u}=(0,g.useAppState)(),[w]=(0,y.useWindow)(),{lineFilterState:_,setLineFiltered:x}=(0,g.useAppState)(),{setTarget:E}=(0,h.useMapTarget)(),M=e=>{const t=r[e.parent].filterKey;t&&!(0,b.isLineEnabled)(t,_)&&x(t,!0);const n={type:"Point",coordinates:[e.lng,e.lat]},a=(0,p.default)(n,.5,{units:"kilometers"}),o=(0,m.default)(a);E(o),w<=600&&u(!1)},T=e=>{const t=r[e.id].filterKey;t&&!(0,b.isLineEnabled)(t,_)&&x(t,!0),E(e.bounds),w<=600&&u(!1)};return(0,c.useEffect)((()=>{""!=e&&(0,d.search)(n,e).then((e=>{e.length>0&&u(!0),o(e)}))}),[e]),c.default.createElement(v,null,w>600?c.default.createElement(j,{query:e,onQueryUpdate:t}):c.default.createElement(L,{query:e,onQueryUpdate:t}),c.default.createElement(s.Grow,{in:i,style:{transformOrigin:"50% 0 0"},unmountOnExit:!0},c.default.createElement(S,null,c.default.createElement(s.List,null,0===a.length&&c.default.createElement(O,{disabled:!0},c.default.createElement(s.ListItemIcon,null,c.default.createElement(l.FilterList,null)),c.default.createElement(s.ListItemText,{primary:"No results..."})),a.slice(0,10).map(((e,t)=>"station"===e.type?c.default.createElement(k,{key:t,...e,onClick:M}):c.default.createElement(C,{key:t,...e,onClick:T})))))))}},6324:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var a=Object.getOwnPropertyDescriptor(t,n);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,a)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Controls=void 0;const l=o(n(8311)),s=n(2614),c=n(7847),u=n(2761),d=i(n(3080)),f=n(3),p=n(2607),m=n(1020),h=i(n(5604)),g=n(7796),b=n(4414),y=d.default.div`
  position: fixed;
  right: ${({theme:e,hidden:t})=>t?e.spacing(-8):e.spacing(1)};
  top: ${({theme:e})=>e.spacing(1)};
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  transition: ${({theme:e})=>e.transitions.create("right")};
  z-index: 500;
`,v=e=>{const{setTarget:t}=(0,p.useMapTarget)();return l.default.createElement(s.Menu,{anchorEl:e.anchorEl,open:e.open,onClose:e.onClose},l.default.createElement(s.MenuItem,{disabled:!0},"Jump to"),f.config.regions.map((n=>l.default.createElement(s.MenuItem,{key:n.title,onClick:()=>{var r;r=n,e.onClose(),t(r.bbox)}},n.title))))};t.Controls=()=>{const[e,t]=(0,l.useState)(null),n=l.default.useRef(null),{setLegendDrawerOpen:r,setSettingsDrawerOpen:a,setShareSheetOpen:o,searchOpen:i}=(0,m.useAppState)(),[d]=(0,g.useWindow)(),f=l.default.useRef(null),p=l.default.useRef(null);return(0,l.useEffect)((()=>{if(!localStorage.quickNav){const e=()=>{(()=>{const e=p.current.getBoundingClientRect();f.current.start({clientX:e.left+e.width/2,clientY:e.top+e.height/2},{center:!1}),setTimeout((()=>f.current.stop({})),320)})(),localStorage.quickNav||(n.current=window.setTimeout(e,2e3))};e()}}),[]),l.default.createElement(l.default.Fragment,null,l.default.createElement(y,{hidden:!(d>600)&&i},l.default.createElement(b.ControlPaper,null,l.default.createElement(s.Tooltip,{title:"Quick Navigation"},l.default.createElement(s.IconButton,{ref:p,onClick:e=>{localStorage.quickNav=!0,n.current&&clearTimeout(n.current),t(e.currentTarget)},size:"large"},l.default.createElement(h.default,{ref:f,center:!0}),l.default.createElement(c.NearMe,null)))),l.default.createElement(b.ControlPaper,null,l.default.createElement(s.Tooltip,{title:"Map Legend"},l.default.createElement(s.IconButton,{onClick:()=>r(!0),size:"large"},l.default.createElement(c.Layers,null)))),l.default.createElement(b.ControlPaper,null,l.default.createElement(s.Tooltip,{title:"Map Settings"},l.default.createElement(s.IconButton,{onClick:()=>a(!0),size:"large"},l.default.createElement(c.Settings,null)))),l.default.createElement(b.ControlPaper,null,l.default.createElement(s.Tooltip,{title:"Share"},l.default.createElement(s.IconButton,{onClick:()=>o(!0),size:"large"},l.default.createElement(c.Share,null))),l.default.createElement(s.Divider,null),l.default.createElement(s.Tooltip,{title:"Contribute on GitHub"},l.default.createElement(s.IconButton,{href:"https://github.com/RailFansCanada/RailFansMap",size:"large"},l.default.createElement(c.GitHub,null))))),l.default.createElement(u.ShareSheet,null),l.default.createElement(v,{anchorEl:e,open:Boolean(e),onClose:()=>{t(null)}}))}},2014:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.LayerOption=void 0;const a=r(n(8311)),o=n(2614),i=r(n(3080)),l=(0,i.default)(o.Typography)`
  margin-bottom: ${({theme:e})=>e.spacing(1)};
`,s=(0,i.default)(o.CardContent)`
  display: flex;
  flex-direction: column;
  flex-grow: 1;
`,c=(0,i.default)(o.Card)`
  margin: ${({theme:e})=>e.spacing(2)};
  border-radius: 8px;
  ${({selected:e,tint:t})=>e&&`background-color:${(0,o.alpha)(t,.1)};`}
`,u=(0,i.default)(o.CardActionArea)`
  display: flex;
  flex-direction: row;
  justify-content: start;
`,d=i.default.div`
  display: flex;
  flex-grow: 0;
  flex-shrink: 0;
  width: 88px;
  height: 88px;
  margin: ${({theme:e})=>e.spacing(1)};
  border-radius: 100%;
  overflow: hidden;
  background: ${({theme:e})=>e.palette.background.default};
  filter: ${({selected:e})=>e?"grayscale(0)":"grayscale(1)"};
  transition: ${({theme:e})=>e.transitions.create("filter")};
  & img {
    width: 100%;
    height: 100%;
  }
  border: 1px solid ${({theme:e})=>e.palette.text.disabled};
`;t.LayerOption=e=>{var t;const n=(0,o.useTheme)();return a.default.createElement(c,{variant:"outlined",selected:e.selected,tint:null!==(t=e.tint)&&void 0!==t?t:n.palette.secondary.main},a.default.createElement(u,{onClick:()=>{var t;return null===(t=e.onClick)||void 0===t?void 0:t.call(e)}},e.imageUrl&&a.default.createElement(d,{selected:e.selected},a.default.createElement("img",{src:e.imageUrl})),a.default.createElement(s,null,a.default.createElement(l,{variant:"h6"},e.primary),a.default.createElement(o.Typography,{variant:"body1"},e.secondary))))}},9566:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var a=Object.getOwnPropertyDescriptor(t,n);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,a)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.LegendDrawer=void 0;const l=o(n(8311)),s=n(2614),c=i(n(3080)),u=n(2429),d=n(9492),f=n(2607),p=n(1020),m=n(7796),h=n(6368),g=i(n(4125)),b=c.default.div`
  width: 5px;
  background-color: ${e=>e.tint};
  display: flex;
  align-self: stretch;
  margin: ${({theme:e})=>e.spacing(1)};
`,y=(0,c.default)(s.ListItem)`
  filter: ${({checked:e})=>e?"grayscale(0)":"grayscale(1)"};
  transition: ${({theme:e})=>e.transitions.create("filter")};

  & .Mui-disabled {
    opacity: 1;
  }
`,v=e=>{const{setTarget:t}=(0,f.useMapTarget)(),[n]=(0,m.useWindow)(),r=(0,s.useTheme)(),{setLegendDrawerOpen:a}=(0,p.useAppState)();return l.default.createElement(y,{disablePadding:!0,dense:!0,checked:e.enabled,secondaryAction:e.filterKey&&!e.filterKey.startsWith("!")&&l.default.createElement(s.Checkbox,{style:{color:e.tint},checked:e.enabled,onChange:e.onChecked,edge:"end"})},l.default.createElement(s.ListItemButton,{disabled:!e.enabled,onClick:()=>{null!=e.bbox&&t(e.bbox),n<=r.breakpoints.values.md&&a(!1)}},e.icon&&l.default.createElement(s.ListItemAvatar,null,l.default.createElement("img",{src:e.icon})),l.default.createElement(b,{tint:e.tint}),l.default.createElement(s.ListItemText,{primary:e.title,secondary:e.description})))},w=c.default.div`
  width: 100%;
  box-sizing: border-box;
  overflow-x: hidden;
`,_=(0,c.default)(s.ListItemButton)`
  width: 100%;
  display: flex;
  box-sizing: border-box;
  justify-content: space-between;
  align-items: center;
  padding: ${({theme:e})=>e.spacing(2)};
`,x=e=>{var t;const n=(0,s.useTheme)(),{lineFilterState:r,setLineFiltered:a,legendGroupState:o,setLegendGroupOpen:i}=(0,p.useAppState)(),c=(0,l.useRef)(null),u=null!==(t=o[e.agency.id])&&void 0!==t&&t;return l.default.createElement(w,{ref:c},l.default.createElement(_,{onClick:()=>{i(e.agency.id,!u),u||setTimeout((()=>{var e;null===(e=c.current)||void 0===e||e.scrollIntoView({block:"end",behavior:"smooth"})}),300)}},l.default.createElement(s.Typography,{variant:"subtitle1"},e.agency.name),l.default.createElement("div",null,l.default.createElement(d.Chevron,{down:u,color:n.palette.text.primary}))),l.default.createElement(s.Collapse,{in:u},e.entries.map((e=>{const t=(0,h.isLineEnabled)(e.filterKey,r);return l.default.createElement(v,{key:e.id,...e,enabled:t,onChecked:()=>{a(e.filterKey,!t)}})}))),l.default.createElement(s.Divider,null))};t.LegendDrawer=e=>{const{legendDrawerOpen:t,setLegendDrawerOpen:n}=(0,p.useAppState)(),r={};return Object.values(g.default).forEach((e=>{const t=e.agency;null==r[t]&&(r[t]=[]),r[t].push(e)})),l.default.createElement(u.MenuDrawer,{open:t,onClose:()=>n(!1),title:"Map Legend"},l.default.createElement(s.List,null,Object.entries(r).map((([t,n])=>{const r=n.filter((e=>"rail-line"===(null==e?void 0:e.type)||"streetcar-line"===(null==e?void 0:e.type))).map((e=>({id:e.id,title:e.name,description:e.description,tint:e.color,bbox:e.bbox,icon:`icons/${e.icon}`,filterKey:e.filterKey})));return l.default.createElement(x,{agency:e.allAgencies[t],key:t,entries:r})}))))}},8515:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.MenuOption=t.SwitchOption=void 0;const a=r(n(8311)),o=n(2614);t.SwitchOption=e=>{const t=()=>{e.onToggle(!e.checked)};return a.default.createElement(o.ListItem,{disabled:e.disabled,onClick:t,button:!0},a.default.createElement(o.ListItemText,{primary:e.primary,secondary:e.secondary}),a.default.createElement(o.ListItemSecondaryAction,null,a.default.createElement(o.Switch,{disabled:e.disabled,onChange:t,checked:e.checked,edge:"end"})))},t.MenuOption=e=>{const[t,n]=a.default.useState(null);return a.default.createElement(a.default.Fragment,null,a.default.createElement(o.ListItem,{onClick:e=>{n(e.currentTarget)},button:!0},a.default.createElement(o.ListItemText,{primary:e.primary,secondary:e.options[e.value]})),a.default.createElement(o.Menu,{open:null!=t,anchorEl:t},e.options.map(((t,r)=>a.default.createElement(o.MenuItem,{key:t,onClick:()=>(t=>{null==e||e.onChange(t),n(null)})(r),selected:e.value===r},t)))))}},2429:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.MenuDrawer=void 0;const a=r(n(8311)),o=n(2614),i=r(n(3080)),l=n(7847),s=r(n(666)),c=(0,i.default)(o.Drawer)`
  & .MuiDrawer-paper {
    width: 420px;
    ${({theme:e})=>e.breakpoints.down("md")} {
      width: 100%;
    }
    box-shadow: ${({theme:e})=>e.shadows[4]};
  }
`,u=(0,i.default)(o.AppBar)`
  background-color: ${({theme:e})=>e.palette.background.default};
  display: flex;
  flex-grow: 0;
`,d=(0,i.default)(o.IconButton)`
  margin-right: ${({theme:e})=>e.spacing(2)};
`,f=(0,i.default)(o.Typography)`
  flex-grow: 1;
  color: ${({theme:e})=>e.palette.text.primary};
`,p=i.default.div`
  display: flex;
  flex-grow: 1;
  height: 100%;
`;t.MenuDrawer=e=>a.default.createElement(c,{variant:"persistent",anchor:"right",open:e.open,elevation:4},a.default.createElement(u,{position:"static"},a.default.createElement(o.Toolbar,null,a.default.createElement(d,{edge:"start",size:"large",onClick:e.onClose},a.default.createElement(l.Close,null)),a.default.createElement(f,{variant:"h6"},e.title))),a.default.createElement(p,null,a.default.createElement(s.default,null,e.children)))},9204:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SettingsDrawer=void 0;const a=r(n(8311)),o=n(2614),i=n(2014),l=n(8515),s=n(2429),c=n(1020),u=r(n(3080)),d=["Follow System Settings","Light","Dark"],f=e=>"system"===e?0:"light"===e?1:2,p=(0,u.default)(o.Typography)`
  width: 100%;
  padding: ${({theme:e})=>e.spacing(0,2)};
  margin: ${({theme:e})=>e.spacing(2,0,0,0)};
  box-sizing: border-box;
  display: block;
`;t.SettingsDrawer=()=>{const{settingsDrawerOpen:e,setSettingsDrawerOpen:t,show3DBuildings:n,setShow3DBuildings:r,showLabels:u,setShowLabels:m,mapStyle:h,setMapStyle:g,appTheme:b,setAppTheme:y,showGeolocation:v,setShowGeolocation:w}=(0,c.useAppState)();return a.default.createElement(s.MenuDrawer,{open:e,onClose:()=>{t(!1)},title:"Map Settings"},a.default.createElement(p,{variant:"overline"},"Map Type"),a.default.createElement(i.LayerOption,{primary:"Map View",secondary:"Basic map in either light or dark themes",selected:"vector"===h,onClick:()=>g("vector")}),a.default.createElement(i.LayerOption,{primary:"Satellite View",secondary:"Satellite imagery",selected:"satellite"===h,onClick:()=>g("satellite")}),a.default.createElement(o.Divider,null),a.default.createElement(p,{variant:"overline"},"Additional Settings"),a.default.createElement(o.List,null,a.default.createElement(l.SwitchOption,{primary:"Show 3D buildings",checked:n,onToggle:e=>r(e)}),a.default.createElement(l.SwitchOption,{primary:"Show station labels",checked:u,onToggle:e=>m(e)}),a.default.createElement(l.MenuOption,{primary:"Choose theme",options:d,value:f(b),onChange:e=>{switch(e){case 0:y("system");break;case 1:y("light");break;case 2:y("dark")}}}),a.default.createElement(l.SwitchOption,{primary:"Show Geolocation on Map",checked:v,onToggle:e=>w(e)})),a.default.createElement(o.Divider,null),a.default.createElement(p,{variant:"overline"},"About"),a.default.createElement(o.List,null,a.default.createElement(o.ListItemButton,{href:"https://www.iubenda.com/privacy-policy/15954265"},a.default.createElement(o.ListItemText,{primary:"Privacy policy"})),a.default.createElement(o.ListItem,{dense:!0},a.default.createElement(o.ListItemText,{primary:"Version",secondary:"3.5.4"})),a.default.createElement(o.ListItem,{dense:!0},a.default.createElement(o.ListItemText,{primary:"Build date",secondary:new Date(1674924721914).toLocaleString()}))))}},2761:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ShareSheet=void 0;const a=n(2614),o=r(n(9161)),i=n(7847),l=r(n(8311)),s=n(1020),c=(0,o.default)((e=>({closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},shareButton:{textTransform:"none",fontSize:e.typography.body1.fontSize,background:e.palette.background.default,"&:hover":{background:e.palette.background.default},margin:e.spacing(0,3,2,3),maxWidth:"100%"},dialogContent:{listStyle:"none",display:"flex",flexDirection:"column",padding:e.spacing(1,0)},buttonText:{width:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}))),u=(0,o.default)((e=>({root:{color:e.palette.text.primary}}))),d=e=>{const t=u(),n=()=>{e.onCheck(!e.checked)};return l.default.createElement(a.ListItem,{button:!0,onClick:n,dense:!0},l.default.createElement(a.ListItemText,{primary:e.primary,secondary:e.secondary}),l.default.createElement(a.ListItemSecondaryAction,null,l.default.createElement(a.Checkbox,{color:"primary",className:t.root,checked:e.checked,edge:"start",onChange:n})))};t.ShareSheet=()=>{const{shareSheetOpen:e,setShareSheetOpen:t,lineFilterState:n,appTheme:r,mapStyle:o}=(0,s.useAppState)(),u=c(),[f,p]=l.default.useState(null),[m,h]=l.default.useState(!0),[g,b]=l.default.useState(!1),[y,v]=l.default.useState(!1),w=()=>{t(!1)},_=()=>{const e=location.protocol,t=location.host,r=new URL(`${e}//${t}/`);if(m&&(r.hash=location.hash),g&&r.searchParams.append("map","satellite"),y){const e=Object.keys(n).filter((e=>n[e])).map((e=>e)).join(",");r.searchParams.append("show",e)}return r.toString()};return l.default.createElement(l.default.Fragment,null,l.default.createElement(a.Dialog,{fullWidth:!0,maxWidth:"sm",onClose:w,open:e},l.default.createElement(a.DialogTitle,null,l.default.createElement(a.Typography,{variant:"h6"},"Share This Map"),l.default.createElement(a.IconButton,{className:u.closeButton,onClick:w,size:"large"},l.default.createElement(i.Close,null))),l.default.createElement(a.DialogContent,{className:u.dialogContent},l.default.createElement(a.Button,{className:u.shareButton,onClick:()=>{var e;navigator.share?navigator.share({title:"Rail Fans Map",url:_()}):navigator.clipboard.writeText&&(e=_(),navigator.clipboard.writeText(e).then((()=>{p("Copied to clipboard")})).catch((()=>{p("Could not copy to clipboard")})))},endIcon:l.default.createElement(i.ContentCopy,null)},l.default.createElement("span",{className:u.buttonText},_())),l.default.createElement(d,{primary:"Current Location",secondary:"Share the map with the current location visible",checked:m,onCheck:e=>h(e)}),l.default.createElement(d,{primary:"Satellite Basemap",secondary:"Share the map using the satellite basemap",checked:g,onCheck:e=>b(e)}),l.default.createElement(d,{primary:"Include Toggled Lines",secondary:"Show all lines that have been toggled in the legend",checked:y,onCheck:e=>v(e)}))),l.default.createElement(a.Snackbar,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:null!=f,onClose:()=>p(null),message:f,autoHideDuration:2400}))}},3:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.config=void 0;const a=r(n(9455));t.config=a.default},1020:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var a=Object.getOwnPropertyDescriptor(t,n);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,a)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.useAppState=t.ProvideAppState=void 0;const l=i(n(9206)),s=o(n(8311)),c=(0,s.createContext)(null),u=(()=>{if(null==localStorage.settings)return{};const e=JSON.parse(localStorage.settings);if(null==e.version){const{showLineLabels:t,...n}=e;return{...n,showLabels:t}}return e.version<"3.4.2"?{...e,showLabels:!0}:e})(),d=(()=>{const e=new URLSearchParams(location.search);return(0,l.default)({},(t=>{var n,r,a,o;if((null===(n=e.get("map"))||void 0===n?void 0:n.includes("satellite"))?t.mapStyle="satellite":(null===(r=e.get("map"))||void 0===r?void 0:r.includes("vector"))&&(t.mapStyle="vector"),(null===(a=e.get("theme"))||void 0===a?void 0:a.includes("light"))?t.appTheme="light":(null===(o=e.get("theme"))||void 0===o?void 0:o.includes("dark"))&&(t.appTheme="dark"),e.get("show")){const n=e.get("show").split(",");t.lineFilterState={},n.forEach((e=>{t.lineFilterState[e]=!0}))}}))})(),f={...u,...d,lineFilterState:{...u.lineFilterState,...d.lineFilterState}};t.ProvideAppState=e=>{const t=(()=>{var e,t,n,r,a,o,i;const[l,c]=(0,s.useState)(!1),[u,d]=(0,s.useState)(!1),[p,m]=(0,s.useState)(!1),[h,g]=(0,s.useState)(!1),[b,y]=(0,s.useState)(null!==(e=f.show3DBuildings)&&void 0!==e&&e),[v,w]=(0,s.useState)(null===(t=f.showLabels)||void 0===t||t),[_,x]=(0,s.useState)(null!==(n=f.appTheme)&&void 0!==n?n:"system"),[S,E]=(0,s.useState)(null!==(r=f.mapStyle)&&void 0!==r?r:"vector"),[M,O]=(0,s.useState)(f.lastLocation),[k,C]=(0,s.useState)(null!==(a=f.lineFilterState)&&void 0!==a?a:{}),[L,j]=(0,s.useState)(null!==(o=f.legendGroupState)&&void 0!==o?o:{}),[T,F]=(0,s.useState)(null===(i=f.showGeolocation)||void 0===i||i),P={settingsDrawerOpen:l,setSettingsDrawerOpen:c,legendDrawerOpen:u,setLegendDrawerOpen:d,shareSheetOpen:p,setShareSheetOpen:m,searchOpen:h,setSearchOpen:g,show3DBuildings:b,setShow3DBuildings:y,showLabels:v,setShowLabels:w,appTheme:_,setAppTheme:x,mapStyle:S,setMapStyle:E,lineFilterState:k,setLineFiltered:(e,t)=>{C({...k,[e]:t})},legendGroupState:L,setLegendGroupOpen:(e,t)=>{j({...L,[e]:t})},lastLocation:M,setLastLocation:O,showGeolocation:T,setShowGeolocation:F};return(0,s.useEffect)((()=>{(e=>{const{settingsDrawerOpen:t,legendDrawerOpen:n,shareSheetOpen:r,...a}=e;localStorage.settings=JSON.stringify({...a,version:"3.4.2"})})(P)})),P})();return s.default.createElement(c.Provider,{value:t},e.children)},t.useAppState=()=>(0,s.useContext)(c)},6254:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var a=Object.getOwnPropertyDescriptor(t,n);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,a)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.useData2=t.ProvideData2=void 0;const l=o(n(8311)),s=n(3),c=n(3180),u=i(n(4125)).default,d=l.default.createContext({agencies:{},regions:{},lines:u,db:null});t.ProvideData2=e=>{const t=(()=>{const e={};s.config.agencies.forEach((t=>{e[t.id]=t}));const t={};s.config.regions.forEach((e=>{t[e.id]=e}));const[n,r]=(0,l.useState)({db:null,agencies:e,regions:t,lines:u});return(0,l.useEffect)((()=>{(async()=>{const e=await(0,c.prepDatabase)(),t=await fetch("search.json").then((e=>e.json()));await(0,c.processFeatures)(e,t.stations),await(0,c.processBounds)(e,t.bounds),r((t=>({...t,db:e})))})()}),[]),n})();return l.default.createElement(d.Provider,{value:t},e.children)},t.useData2=()=>(0,l.useContext)(d)},9248:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var a=Object.getOwnPropertyDescriptor(t,n);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,a)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.useGeolocation=t.ProvideGeolocation=void 0;const i=o(n(8311)),l=i.default.createContext({requestGeolocationWatch:()=>{},requestGeolocation:()=>null});t.ProvideGeolocation=e=>{const t=(()=>{const e=(0,i.useRef)(null),[t,n]=(0,i.useState)(),r=async()=>t||new Promise(((e,t)=>{navigator.geolocation.getCurrentPosition((t=>{const r=[t.coords.longitude,t.coords.latitude];n(r),e(r)}),(e=>{t(e)}),{enableHighAccuracy:!0})}));return(0,i.useEffect)((()=>{navigator.permissions.query({name:"geolocation"}).then((e=>{"granted"===e.state&&r()}))}),[]),{geolocation:t,requestGeolocation:r,requestGeolocationWatch:()=>{null!=e.current&&navigator.geolocation.clearWatch(e.current),e.current=navigator.geolocation.watchPosition((e=>{n([e.coords.longitude,e.coords.latitude])}),(()=>{}),{enableHighAccuracy:!0})}}})();return i.default.createElement(l.Provider,{value:t},e.children)},t.useGeolocation=()=>(0,i.useContext)(l)},2607:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var a=Object.getOwnPropertyDescriptor(t,n);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,a)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.useMapTarget=t.ProvideMapTarget=void 0;const i=o(n(8311)),l=i.default.createContext(null);t.ProvideMapTarget=e=>{const t=(()=>{const[e,t]=(0,i.useState)();return{target:e,setTarget:e=>{t(e)}}})();return i.default.createElement(l.Provider,{value:t},e.children)},t.useMapTarget=()=>(0,i.useContext)(l)},7796:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var a=Object.getOwnPropertyDescriptor(t,n);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,a)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.useWindow=t.ProvideWindow=void 0;const i=o(n(8311)),l=i.default.createContext([0,0]);t.ProvideWindow=e=>{const t=(()=>{const[e,t]=(0,i.useState)([window.innerWidth,window.innerHeight]);return(0,i.useEffect)((()=>{window.addEventListener("resize",(()=>{t([window.innerWidth,window.innerHeight])}))}),[]),e})();return i.default.createElement(l.Provider,{value:t},e.children)},t.useWindow=()=>(0,i.useContext)(l)},1456:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),n(9863);const a=r(n(8311)),o=n(9295),i=n(3080),l=n(8521),s=i.createGlobalStyle`
  html,
  body {
    height: 100%;
    width: 100%;
    margin: 0;
    padding: 0;
  }

  #content {
    height: 100%;
  }

  ::selection {
    background: #f44336;
  }

  .mapboxgl-popup-content {
    margin-left: -16px;
    border-radius: 4px !important;
    background: #212121 !important;
    color: #ffffff;
    font-family: "Roboto", "Helvetica", "Arial", sans-serif !important;
    padding: 8px !important;
    font-size: 16px;
    margin-top: 12px;
  }

  .mapboxgl-popup-tip {
    display: none;
  }
`,c=document.getElementById("content");(0,o.createRoot)(c).render(a.default.createElement(a.default.StrictMode,null,a.default.createElement(s,null),a.default.createElement(l.App,null)))},9824:()=>{},2219:()=>{},8183:()=>{},4125:e=>{"use strict";e.exports=JSON.parse('{"ottawa/belfast":{"type":"rail-yard","id":"ottawa/belfast","name":"Belfast Yard","description":"Maintenance and Storage Facility for Lines 1 and 3","sources":["City of Ottawa"],"searchTerms":["Confederation Line"],"agency":"oc-transpo","region":"ottawa-gatineau","bbox":[-75.64820782497546,45.41375017033193,-75.63755788898123,45.419185613751736]},"ottawa/greenbank":{"type":"rail-yard","filterKey":"barrhavenExtension","id":"ottawa/greenbank","name":"Greenbank Yard","description":"Proposed Maintenance and Storage Facility for Lines 1 and 3 as part of the Line 1 Barrhaven Extension","sources":["City of Ottawa"],"searchTerms":["Confederation Line","Barrhaven"],"agency":"oc-transpo","region":"ottawa-gatineau","bbox":[-75.75066724560307,45.278299197809204,-75.74839440931795,45.28248020888946]},"ottawa/moodie":{"type":"rail-yard","id":"ottawa/moodie","name":"Moodie Yard","description":"Maintenance and Storage Facility for Lines 1 and 3","sources":["City of Ottawa"],"searchTerms":["Confederation Line"],"agency":"oc-transpo","region":"ottawa-gatineau","bbox":[-75.85500411766374,45.33368568812269,-75.84208112516919,45.33892236017065]},"ottawa/walkley":{"type":"rail-yard","offset":0,"id":"ottawa/walkley","name":"Walkley Yard","description":"Maintenance and Storage Facility for Lines 2 and 4","sources":["City of Ottawa"],"searchTerms":["Trillium Line"],"agency":"oc-transpo","region":"ottawa-gatineau","bbox":[-75.66267087442462,45.36002511860245,-75.64885179127002,45.36715696370816]},"ottawa/1":{"id":"ottawa/1","type":"rail-line","color":"#D62937","offset":0.5,"icon":"ottawa/line1.svg","name":"Line 1","description":"Trim - Algonquin","sources":["City of Ottawa"],"searchTerms":["Confederation Line"],"agency":"oc-transpo","region":"ottawa-gatineau","bbox":[-75.78228584036735,45.34616234559657,-75.47978870927166,45.49642647588418]},"ottawa/2":{"id":"ottawa/2","type":"rail-line","color":"#76BE43","offset":0.5,"icon":"ottawa/line2.svg","source":["City of Ottawa"],"name":"Line 2","description":"Bayview - Limebank","sources":["City of Ottawa"],"searchTerms":["Trillium Line"],"agency":"oc-transpo","region":"ottawa-gatineau","bbox":[-75.72237184280527,45.27727293166024,-75.62778405925572,45.409559562019304]},"ottawa/3":{"id":"ottawa/3","type":"rail-line","color":"#AF882D","offset":-0.5,"icon":"ottawa/line3.svg","name":"Line 3","description":"Trim - Moodie","sources":["City of Ottawa"],"searchTerms":["Confederation Line"],"agency":"oc-transpo","region":"ottawa-gatineau","bbox":[-75.84210742823615,45.3388915176561,-75.47978870927166,45.49642647588418]},"ottawa/4":{"id":"ottawa/4","type":"rail-line","color":"#01A1DD","offset":-0.5,"icon":"ottawa/line4.svg","name":"Line 4","description":"Airport - South Keys","sources":["City of Ottawa"],"searchTerms":["Trillium Line","Airport Branch"],"agency":"oc-transpo","region":"ottawa-gatineau","bbox":[-75.66877388383615,45.323425021635636,-75.64930348126286,45.35567087721105]},"ottawa/barrhaven":{"id":"ottawa/barrhaven","type":"rail-line","color":"#D62937","filterKey":"barrhavenExtension","icon":"ottawa/line1.svg","offset":0.5,"name":"Line 1 - Barrhaven Extension","description":"Proposed extension to Barrhaven","sources":["City of Ottawa"],"searchTerms":["Confederation Line","Barrhaven"],"agency":"oc-transpo","region":"ottawa-gatineau","bbox":[-75.76051390912036,45.26587692566606,-75.7340583984209,45.346212859700934]},"ottawa/kanata":{"id":"ottawa/kanata","type":"rail-line","color":"#AF882D","filterKey":"kanataExtension","icon":"ottawa/line3.svg","offset":-0.5,"name":"Line 3 - Kanata Extension","description":"Proposed extension to Kanata","sources":["City of Ottawa"],"searchTerms":["Confederation Line","Kanata"],"agency":"oc-transpo","region":"ottawa-gatineau","bbox":[-75.93239095708121,45.28439702050031,-75.84208112556463,45.33892236017073]},"gatineau/A":{"id":"gatineau/A","type":"rail-line","color":"#33A948","offset":0.5,"icon":"gatineau/lineA.svg","name":"Gatineau Tramway to Aylmer","description":"Proposed corridor for the Tramway","sources":["STO"],"alternatives":["1","2"],"filterKey":"gatineauLrt","agency":"sto","region":"ottawa-gatineau","bbox":[-75.86578535776559,45.39536917415158,-75.69585303512089,45.42476674755017]},"gatineau/B":{"id":"gatineau/B","type":"rail-line","color":"#007E88","offset":-0.5,"icon":"gatineau/lineB.svg","name":"Gatineau Tramway to the Plateau","description":"Proposed corridor for the Tramway","sources":["STO"],"alternatives":["1","2"],"filterKey":"gatineauLrt","agency":"sto","region":"ottawa-gatineau","bbox":[-75.80979831416316,45.41567920052083,-75.69585303512089,45.43724924103122]},"montreal/green":{"id":"montreal/green","type":"rail-line","color":"#00A54F","icon":"montreal/green.svg","name":"Green Line","description":"Angrignon - Honor-Beaugrand","sources":["OpenStreetMap"],"agency":"stm","region":"montreal","bbox":[-73.60770630321846,45.44372029100138,-73.53348992959073,45.59972319599818]},"montreal/orange":{"id":"montreal/orange","type":"rail-line","color":"#F58220","icon":"montreal/orange.svg","name":"Orange Line","description":"Montmorency - Cte-Vertu","sources":["OpenStreetMap"],"agency":"stm","region":"montreal","bbox":[-73.7260800545552,45.47360448873001,-73.55515849942338,45.561321996820595]},"montreal/yellow":{"id":"montreal/yellow","type":"rail-line","color":"#FFDC01","icon":"montreal/yellow.svg","name":"Yellow Line","description":"Berri-UQAM - Longueuil-Universit-de-Sherbrooke","sources":["OpenStreetMap"],"agency":"stm","region":"montreal","bbox":[-73.56451678641078,45.509075322010204,-73.52186189872911,45.52697362489738]},"montreal/blue":{"id":"montreal/blue","type":"rail-line","color":"#0072BC","icon":"montreal/blue.svg","name":"Blue Line","description":"Snowdon - Saint-Michel","sources":["OpenStreetMap"],"agency":"stm","region":"montreal","bbox":[-73.63207362264532,45.481118556919355,-73.59852002165282,45.561354986673216]},"montreal/blue-extension":{"id":"montreal/blue-extension","type":"rail-line","color":"#0072BC","icon":"montreal/blue.svg","name":"Blue Line Extension","description":"Extension to Anjou","sources":["STM"],"filterKey":"blueExtension","agency":"stm","region":"montreal","bbox":[-73.59968591059292,45.56005355291471,-73.56296771809917,45.59739776405928]},"montreal/rem":{"id":"montreal/rem","type":"rail-line","color":"#ACD21C","icon":"montreal/rem.svg","name":"REM","description":"Rseau Express Mtropolitain","sources":["OpenStreetMap"],"agency":"rem","region":"montreal","bbox":[-73.9144974,45.4305912,-73.425561,45.5462811]},"brossardmaintenance":{"id":"brossardmaintenance","type":"rail-yard","color":"#FFCC00","icon":"montreal/rem.svg","name":"Brossard Light Maintenance and Control Centre","description":"Main control centre for REM operations and storage yard.","sources":["REM"],"filterKey":"brossardmaintenance","agency":"rem","region":"montreal","bbox":[-73.4356996,45.43694,-73.42637052360327,45.4411408]},"calgary/blue":{"id":"calgary/blue","type":"rail-line","color":"#055A84","icon":"calgary/blueline.svg","sources":["OSM / City of Calgary"],"name":"Blue Line","offset":0.5,"description":"69th Street - Saddletowne","agency":"ctransit","region":"calgary","bbox":[-114.1922107,51.0365938,-113.9471116,51.1284973]},"calgary/red":{"id":"calgary/red","type":"rail-line","color":"#EE1B2C","icon":"calgary/redline.svg","name":"Red Line","offset":-0.5,"description":"Tuscany - SomersetBridlewood","sources":["OSM / City of Calgary"],"agency":"ctransit","region":"calgary","bbox":[-114.2393774,50.8963578,-114.0548738,51.136106]},"calgary/bluemsf":{"type":"rail-yard","id":"calgary/bluemsf","name":"Oliver Bowen LRT Maintenance Facility","description":"Maintenance and Storage Facility for the C-Train","sources":["OSM - City of Calgary"],"agency":"ctransit","region":"calgary","bbox":[-113.9809218,51.1025382,-113.9761017,51.1079107]},"calgary/redmsf":{"type":"rail-yard","id":"calgary/redmsf","name":"Anderson Garage","description":"Maintenance and Storage Facility for the C-Train","sources":["OSM - City of Calgary"],"agency":"ctransit","region":"calgary","bbox":[-114.0775144,50.9379057,-114.0698735,50.9564856]},"calgary/redyard":{"type":"rail-yard","id":"calgary/redyard","name":"Haysboro Storage","description":"Storage Facility for the C-Train Network","sources":["OSM - City of Calgary"],"searchTerms":["Red Line Storage"],"agency":"ctransit","region":"calgary","bbox":[-114.0763751,50.9720881,-114.0751948,50.9758482]},"edmonton/capital":{"id":"edmonton/capital","type":"rail-line","color":"#3A59A9","offset":0.5,"icon":"edmonton/capitalline.svg","name":"Capital Line","description":"Century Park - Clareview","sources":["City of Edmonton"],"agency":"edmonton","region":"edmonton","bbox":[-113.52850316689057,53.457301322868176,-113.41141812575138,53.601767010462765]},"edmonton/metro":{"id":"edmonton/metro","type":"rail-line","color":"#EC5353","offset":-0.5,"icon":"edmonton/metroline.svg","name":"Metro Line","description":"Century Park - Clareview","sources":["City of Edmonton"],"agency":"edmonton","region":"edmonton","bbox":[-113.52587002405531,53.52017727304124,-113.48876794954678,53.565982045237746]},"edmonton/valleyline":{"id":"edmonton/valleyline","type":"rail-line","color":"#009158","icon":"edmonton/valleyline.svg","name":"Valley Line Southeast","description":"Alex Coteau - Mill Woods","sources":["City of Edmonton - OSM"],"agency":"edmonton","region":"edmonton","bbox":[-113.49476732918234,53.4581993,-113.4294639,53.5450992]},"edmonton/valleylinew":{"id":"edmonton/valleylinew","type":"rail-line","color":"#009158","icon":"edmonton/valleyline.svg","name":"Valley Line West","filterKey":"valleywest","description":"Lewis Farms - Alex Coteau","sources":["City of Edmonton - OSM"],"agency":"edmonton","region":"edmonton","bbox":[-113.6678223,53.5194789,-113.4947650907252,53.5480113]},"edmonton/valleymsf":{"id":"edmonton/valleymsf","type":"rail-yard","name":"Gerry Wright Operations and Maintenance Facility","description":"Maintenance and Storage Facility for the Valley Line","sources":["City of Edmonton - OSM"],"filterkey":"Valleyline","agency":"edmonton","region":"edmonton","bbox":[-113.4422964,53.4859322,-113.4366127,53.4878648]},"quebec/tramway":{"id":"quebec/tramway","type":"rail-line","color":"#00539f","icon":"quebec/qctramway.svg","name":"Qubec City Tramway","description":"Proposed corridor for the Tramway","sources":["Ville de Qubec"],"filterKey":"quebecTramway","agency":"rtc","region":"quebec","bbox":[-71.35335323122668,46.760346957527126,-71.21156951181729,46.846435908264915]},"toronto/davisville":{"type":"rail-yard","id":"toronto/davisville","name":"Davisville Yard","description":"Maintenance and Storage Facility for Lines 1 and 4","sources":["OpenStreetMap"],"agency":"ttc","region":"toronto","bbox":[-79.3985842,43.6925606,-79.3957446,43.7014581]},"toronto/wilson":{"type":"rail-yard","id":"toronto/wilson","name":"Wilson Yard","description":"Maintenance and Storage Facility for Line 1","sources":["OpenStreetMap"],"agency":"ttc","region":"toronto","bbox":[-79.4624886,43.7341912,-79.4500592,43.7477165]},"toronto/greenwood":{"type":"rail-yard","id":"toronto/greenwood","name":"Greenwood Yard","description":"Maintenance and Storage Facility for Line 2","sources":["OpenStreetMap"],"agency":"ttc","region":"toronto","bbox":[-79.3370004,43.674236,-79.3298204,43.6824992]},"toronto/keele":{"type":"rail-yard","id":"toronto/keele","name":"Keele Yard","description":"Storage yard for Line 2","sources":["OpenStreetMap"],"agency":"ttc","region":"toronto","bbox":[-79.4575713,43.6559874,-79.4527193,43.6569425]},"toronto/mccowan":{"type":"rail-yard","id":"toronto/mccowan","name":"McCowan Yard","description":"Maintenance and Storage Facility for Line 3","sources":["OpenStreetMap"],"filterKey":"!ontarioLine","agency":"ttc","region":"toronto","bbox":[-79.2512567,43.7740959,-79.2449002,43.7763748]},"toronto/eglinton":{"type":"rail-yard","id":"toronto/eglinton","name":"Eglinton MSF","description":"Maintenance and Storage Facility for Line 5","sources":["OpenStreetMap"],"agency":"ttc","region":"toronto","bbox":[-79.4912396,43.6880329,-79.4840724,43.6916563]},"toronto/finch":{"type":"rail-yard","id":"toronto/finch","name":"Finch West MSF","description":"Maintenance and Storage Facility for Line 6","sources":["OpenStreetMap"],"agency":"ttc","region":"toronto","bbox":[-79.5251923,43.75668935015434,-79.52020232027242,43.7589478]},"toronto/sheppard-wye":{"type":"rail-yard","id":"toronto/sheppard-wye","name":"Line 4 Connector Track","description":"Connector tracks between Line 1 and Line 4","sources":["OpenStreetMap"],"agency":"ttc","region":"toronto","bbox":[-79.4142093,43.7595626,-79.4089222,43.7618417]},"toronto/bloor-yonge-connectors":{"type":"rail-yard","id":"toronto/bloor-yonge-connectors","name":"Line 1 and Line 2 Connector Tracks","description":"Connector tracks between Line 1 and Line 2","sources":["OpenStreetMap"],"searchTerms":["Bloor","Yonge"],"agency":"ttc","region":"toronto","bbox":[-79.4020812,43.6677215,-79.388008,43.6706718]},"toronto/ontario-msf":{"type":"rail-yard","id":"toronto/ontario-msf","name":"Ontario Line MSF","description":"Maintenance and Storage Facility for the Ontario Line","sources":["Metrolinx"],"filterKey":"ontarioLine","agency":"ttc","region":"toronto","bbox":[-79.35667918372005,43.70414218716185,-79.34170099630084,43.711687589732065]},"toronto/ynse-tsf":{"type":"rail-yard","id":"toronto/ynse-tsf","name":"Yonge North Subway Extension Train Storage Facility","description":"Train storage facility as part of the YNSE project","filterKey":"ynse","sources":["Metrolinx"],"searchTerms":["YNSE"],"agency":"ttc","region":"toronto","bbox":[-79.42930852444869,43.84237084757532,-79.42693948780285,43.857232769665806]},"toronto/1":{"type":"rail-line","color":"#FFCB0C","offset":0,"id":"toronto/1","icon":"toronto/line1.svg","name":"Line 1","description":"Yonge - University","sources":["OpenStreetMap"],"searchTerms":["Yonge University Spadina","YUS"],"agency":"ttc","region":"toronto","bbox":[-79.52793127830097,43.6452559,-79.3770742,43.795826398803186]},"toronto/2":{"type":"rail-line","color":"#16A753","offset":0,"id":"toronto/2","icon":"toronto/line2.svg","name":"Line 2","description":"Bloor - Danforth","sources":["OpenStreetMap"],"searchTerms":["Bloor Danforth"],"agency":"ttc","region":"toronto","bbox":[-79.5376857,43.6356882,-79.2612654,43.7333269]},"toronto/3":{"type":"rail-line","color":"#1F99D5","offset":0,"id":"toronto/3","icon":"toronto/line3.svg","name":"Line 3","description":"Scarborough","sources":["OpenStreetMap"],"filterKey":"!sse","searchTerms":["Scarborough RT"],"agency":"ttc","region":"toronto","bbox":[-79.2767585,43.7317335,-79.25125128315466,43.7750473]},"toronto/4":{"type":"rail-line","color":"#B32078","offset":0,"id":"toronto/4","icon":"toronto/line4.svg","name":"Line 4","description":"Sheppard","sources":["OpenStreetMap"],"searchTerms":["Sheppard"],"agency":"ttc","region":"toronto","bbox":[-79.4152086,43.7605728,-79.3443587,43.7757246]},"toronto/5":{"type":"rail-line","color":"#F6821F","offset":0,"id":"toronto/5","icon":"toronto/line5.svg","source":["OpenStreetMap"],"name":"Line 5","description":"Eglinton Crosstown (Opening 2023)","sources":["OpenStreetMap"],"searchTerms":["Eglinton Crosstown"],"agency":"ttc","region":"toronto","bbox":[-79.4880309,43.6875004,-79.263243,43.7333686]},"toronto/6":{"type":"rail-line","color":"#949599","offset":0,"id":"toronto/6","icon":"toronto/line6.svg","source":["OpenStreetMap"],"name":"Line 6","description":"Finch West LRT (Opening 2023)","sources":["Metrolinx","OpenStreetMap"],"searchTerms":["Finch West LRT"],"agency":"ttc","region":"toronto","bbox":[-79.60331150195182,43.72916647099461,-79.49004900345398,43.76464100356711]},"toronto/ynse":{"type":"rail-line","color":"#FFCB0C","offset":0,"id":"toronto/ynse","icon":"toronto/line1.svg","name":"Yonge North Subway Extension","description":"Extension of Line 1 to Richmond Hill","sources":["Metrolinx"],"filterKey":"ynse","searchTerms":["YNSE"],"agency":"ttc","region":"toronto","bbox":[-79.4271000617893,43.784293706309555,-79.41553978957982,43.842441490220025]},"toronto/sse":{"type":"rail-line","color":"#16A753","offset":0,"id":"toronto/sse","icon":"toronto/line2.svg","name":"Scarborough Subway Extension","description":"Extension of Line 2 to Scarborough","sources":["Metrolinx"],"filterKey":"sse","searchTerms":["SSE"],"agency":"ttc","region":"toronto","bbox":[-79.26292379140699,43.7327351,-79.2443698561092,43.79312000966511]},"toronto/3ontario":{"type":"rail-line","color":"#1F99D5","offset":0,"id":"toronto/3ontario","icon":"toronto/line3.svg","name":"Ontario Line","description":"Proposed Ontario Line","sources":["Metrolinx"],"filterKey":"ontarioLine","agency":"ttc","region":"toronto","bbox":[-79.4250516620982,43.63445130744323,-79.33650035638559,43.72411877672007]},"toronto/5-west":{"type":"rail-line","color":"#F6821F","offset":0,"id":"toronto/5-west","icon":"toronto/line5.svg","name":"Line 5 West","description":"Eglinton Crosstown West Extension","sources":["Metrolinx"],"filterKey":"eglintonWest","searchTerms":["Eglinton Crosstown"],"agency":"ttc","region":"toronto","bbox":[-79.59152379477375,43.663564408665536,-79.48798509999999,43.687585399228944]},"toronto/hillcrestComplex":{"type":"streetcar-yard","id":"toronto/hillcrestComplex","name":"Hillcrest Complex","description":"Maintenance and Storage Facility for streetcars.","sources":["OpenStreetMap"],"agency":"ttcStreetcar","region":"toronto","bbox":[-79.41865029659105,43.674035714216515,-79.41505927846947,43.67652797062179]},"toronto/leslieBarns":{"type":"streetcar-yard","id":"toronto/leslieBarns","name":"Leslie Barns","description":"Maintenance and Storage Facility for streetcars.","sources":["OpenStreetMap"],"agency":"ttcStreetcar","region":"toronto","bbox":[-79.41760182380676,43.6565931710736,-79.32226803787997,43.67549606388532]},"toronto/roncesvallesCarhouse":{"type":"streetcar-yard","id":"toronto/roncesvallesCarhouse","name":"Roncesvalles Carhouse","description":"Maintenance and Storage Facility for streetcars.","sources":["OpenStreetMap"],"agency":"ttcStreetcar","region":"toronto","bbox":[-79.44871294207476,43.63858280225369,-79.44627134622897,43.640347814204226]},"toronto/russellCarhouse":{"type":"streetcar-yard","id":"toronto/russellCarhouse","name":"Russell Carhouse","description":"Maintenance and Storage Facility for streetcars.","sources":["OpenStreetMap"],"agency":"ttcStreetcar","region":"toronto","bbox":[-79.324262,43.663027,-79.32173,43.66509]},"toronto/streetcarLoops":{"type":"streetcar-yard","id":"toronto/streetcarLoops","name":"Streetcar Loops","description":"Loop tracks for TTC streetcar network.","sources":["OpenStreetMap"],"agency":"ttcStreetcar","region":"toronto","bbox":[-79.544722,43.591514,-79.281164,43.681569]},"toronto/streetcarConnectors":{"type":"streetcar-yard","id":"toronto/streetcarConnectors","name":"TTC Streetcar Connector Tracks","description":"Connector tracks for the TTC streetcar network.","sources":["OpenStreetMap"],"agency":"ttcStreetcar","region":"toronto","bbox":[-79.45103510542326,43.63638895987835,-79.31632219111074,43.683197]},"toronto/501":{"id":"toronto/501","type":"streetcar-line","color":"#EE1D23","icon":"toronto/route501.svg","name":"Route 501","description":"Queen","sources":["OpenStreetMap"],"agency":"ttcStreetcar","region":"toronto","bbox":[-79.544722,43.591514,-79.281164,43.673949]},"toronto/503":{"id":"toronto/503","type":"streetcar-line","color":"#EE1D23","icon":"toronto/route503.svg","name":"Route 503","description":"Kingston Road","sources":["OpenStreetMap"],"agency":"ttcStreetcar","region":"toronto","bbox":[-79.39600878789099,43.64531312812331,-79.28412095069501,43.68159643817149]},"toronto/504":{"id":"toronto/504","type":"streetcar-line","color":"#EE1D23","icon":"toronto/route504.svg","name":"Route 504","description":"King","sources":["OpenStreetMap"],"agency":"ttcStreetcar","region":"toronto","bbox":[-79.45387456837626,43.63429611064344,-79.34983480721712,43.67755430634579]},"toronto/505":{"id":"toronto/505","type":"streetcar-line","color":"#EE1D23","icon":"toronto/route505.svg","name":"Route 505","description":"Dundas","sources":["OpenStreetMap"],"agency":"ttcStreetcar","region":"toronto","bbox":[-79.453874,43.649316528417515,-79.35134891420603,43.67755430634579]},"toronto/506":{"id":"toronto/506","type":"streetcar-line","color":"#EE1D23","icon":"toronto/route506.svg","name":"Route 506","description":"Carlton","sources":["OpenStreetMap"],"agency":"ttcStreetcar","region":"toronto","bbox":[-79.45825907035724,43.64777204374054,-79.30008083311591,43.689348391718475]},"toronto/509":{"id":"toronto/509","type":"streetcar-line","color":"#EE1D23","offset":0.25,"icon":"toronto/route509.svg","name":"Route 509","description":"Habourfront","sources":["OpenStreetMap"],"agency":"ttcStreetcar","region":"toronto","bbox":[-79.418427,43.635635,-79.37685521501379,43.64568278020266]},"toronto/510":{"id":"toronto/510","type":"streetcar-line","color":"#EE1D23","icon":"toronto/route510.svg","name":"Route 510","description":"Spadina","sources":["OpenStreetMap"],"agency":"ttcStreetcar","region":"toronto","bbox":[-79.40489743869576,43.63752138853664,-79.376855,43.66928234482628]},"toronto/511":{"id":"toronto/511","type":"streetcar-line","color":"#EE1D23","offset":-0.25,"icon":"toronto/route511.svg","name":"Route 511","description":"Bathurst","sources":["OpenStreetMap"],"agency":"ttcStreetcar","region":"toronto","bbox":[-79.42014901345095,43.635635,-79.399787,43.666848]},"toronto/512":{"id":"toronto/512","type":"streetcar-line","color":"#EE1D23","icon":"toronto/route512.svg","name":"Route 512","description":"St. Clair","sources":["OpenStreetMap"],"agency":"ttcStreetcar","region":"toronto","bbox":[-79.47186,43.671641,-79.391426,43.688596]},"translink/expoline":{"id":"translink/expoline","offset":-0.5,"type":"rail-line","color":"#0961ac","icon":"vancouver/expoline.svg","name":"Expo Line","description":"Waterfront - King George / Production Way","sources":["Translink / OpenStreetMap"],"agency":"translink","region":"vancouver","bbox":[-123.1204248,49.1810916,-122.8403627,49.2881462]},"translink/milleniumline":{"id":"translink/milleniumline","type":"rail-line","offset":0.5,"color":"#fed20e","icon":"vancouver/milleniumline.svg","name":"Millenium Line","description":"VCC-Clark - Lafarge Lake-Douglas","sources":["Translink / OpenStreetMap"],"agency":"translink","region":"vancouver","bbox":[-123.0918549,49.2472002,-122.7910283,49.2865726]},"translink/canadaline":{"id":"translink/canadaline","type":"rail-line","color":"#099ec9","icon":"vancouver/canadaline.svg","name":"Canada Line","description":"Waterfront - YVR Airport / Richmond-Brighouse","sources":["Translink / OpenStreetMap"],"agency":"translink","region":"vancouver","bbox":[-123.1793274,49.1675196,-123.11252490929388,49.28630025623476]},"expomaintenance":{"id":"expomaintenance","type":"rail-yard","color":"#FFCC00","icon":"vancouver/expoline.svg","name":"SkyTrain Operations and Maintenance Centre 1","description":"Major maintenance facility for both the Millenium and Expo line.","sources":["Translink / Open Street Map"],"agency":"translink","region":"vancouver","bbox":[-122.9586776,49.2030197,-122.952931,49.209385]},"translink/milleniummaintenance":{"id":"translink/milleniummaintenance","type":"rail-yard","color":"#fed20e","icon":"vancouver/milleniumline.svg","name":"SkyTrain Operations and Maintenance Centre 3","description":"The original maintenance facility for the SkyTrain.","sources":["Translink / OpenStreetMap"],"agency":"translink","region":"vancouver","bbox":[-122.8234315,49.2765941,-122.8130167,49.2769396]},"translink/canadamaintenance":{"id":"translink/canadamaintenance","type":"rail-yard","color":"#099ec9","icon":"vancouver/canadaline.svg","name":"Canada Line Maintenance Centre","description":"Maintenance and Storage Facility for the Canada Line","sources":["Translink / OpenStreetMap"],"agency":"translink","region":"vancouver","bbox":[-123.1244953,49.1962427,-123.1192893,49.1986636]},"waterloo/ion":{"id":"waterloo/ion","type":"rail-line","color":"#006bb6","icon":"waterloo/ion.svg","name":"ION Light Rail","description":"Conestoga - Fairway","sources":["OpenStreetMap"],"agency":"grt","region":"waterloo","bbox":[-80.545261,43.419397,-80.44124409556389,43.501633]},"waterloo/ionOMSF":{"id":"waterloo/ionOMSF","type":"rail-yard","name":"ION OMSF","description":"Operations, Maintenance and Storage Facility for the ION Light Rail","sources":["OpenStreetMap"],"searchTerms":["ION"],"agency":"grt","region":"waterloo","bbox":[-80.542348,43.4926038070356,-80.539809,43.496036]},"waterloo/ion-stage2":{"id":"waterloo/ion-stage2","type":"rail-line","color":"#006bb6","icon":"waterloo/ion.svg","name":"ION Light Rail Stage 2 Extension","description":"Extension to Downtown Cambridge","sources":["Region of Waterloo"],"filterKey":"ion-stage2","agency":"grt","region":"waterloo","bbox":[-80.4585,43.34431,-80.29734,43.42583]},"via/corridor":{"id":"via/corridor","type":"rail-line","color":"#FFCC00","icon":"viarail/viarail.svg","offset":0,"name":"Corridor","description":"Canada\'s busiest passenger rail corridor with multiple daily departures.","sources":["VIA Rail Canada"],"filterKey":"via/corridor","agency":"viarail","region":"passengerrail","bbox":[-83.007134,42.29556,-71.21461,46.83794]},"via/canadian":{"id":"via/canadian","type":"rail-line","color":"#FFCC00","icon":"viarail/viarail.svg","offset":0.5,"name":"The Canadian","description":"Canada\'s most iconic passenger train running between Toronto and Vancouver.","sources":["VIA Rail Canada"],"filterKey":"via/canadian","agency":"viarail","region":"passengerrail","bbox":[-123.0974815,43.64481,-79.15434,53.67002]},"via/churchill":{"id":"via/churchill","type":"rail-line","color":"#FFCC00","icon":"viarail/viarail.svg","name":"Winnipeg - Churchill","description":"Canada\'s northernmost passenger train between Churchill and Winnipeg.","sources":["VIA Rail Canada"],"filterKey":"via/churchill","agency":"viarail","region":"passengerrail","bbox":[-102.68153,49.83515,-94.06208,58.76772]},"via/jonquiere":{"id":"via/jonquiere","type":"rail-line","color":"#FFCC00","offset":0,"icon":"viarail/viarail.svg","name":"Montral - Jonquire","description":"Passenger train service between Montral and Jonquire serving numerous flag stops.","sources":["VIA Rail Canada"],"filterKey":"via/jonquiere","agency":"viarail","region":"passengerrail","bbox":[-73.68689,45.44713,-71.2544,48.48253]},"via/ocean":{"id":"via/ocean","type":"rail-line","color":"#FFCC00","offset":0,"icon":"viarail/viarail.svg","name":"The Ocean","description":"Scenic train connecting the Atlantic provinces and Montreal","sources":["VIA Rail Canada"],"filterKey":"via/ocean","agency":"viarail","region":"passengerrail","bbox":[-73.56618,44.62798,-63.26974,48.62748]},"via/rupert":{"id":"via/rupert","type":"rail-line","color":"#FFCC00","icon":"viarail/viarail.svg","name":"Jasper - Prince Rupert","description":"Service connecting Prince Rupert, Jasper and various flag stops.","sources":["VIA Rail Canada"],"filterKey":"via/rupert","agency":"viarail","region":"passengerrail","bbox":[-130.35971,52.85176,-118.079386435,55.26849]},"via/senneterre":{"id":"via/senneterre","type":"rail-line","color":"#FFCC00","icon":"viarail/viarail.svg","name":"Montral - Senneterre","description":"Passenger train between Senneterre, Montral and various flag stops.","sources":["VIA Rail Canada"],"filterKey":"via/senneterre","agency":"viarail","region":"passengerrail","bbox":[-77.24439,45.44713,-72.46394,48.392294]},"via/whiteriver":{"id":"via/whiteriver","type":"rail-line","color":"#FFCC00","icon":"viarail/viarail.svg","name":"Sudbury - White River","description":"Picturesque train connecting White River and Sudbury.","sources":["VIA Rail Canada"],"filterKey":"via/whiteriver","agency":"viarail","region":"passengerrail","bbox":[-85.28586,46.48737,-80.992218679,48.5899]},"montrealmaintenance":{"id":"montrealmaintenance","type":"rail-yard","color":"#FFCC00","icon":"viarail/viarail.svg","name":"VIA Rail Montreal Maintenance Centre","description":"Major maintenance facility for VIA Rail located in Montreal.","sources":["VIA Rail Canada"],"filterKey":"via/corridor","agency":"viarail","region":"passengerrail","bbox":[-73.5760069,45.4720746,-73.5411415,45.4876333]},"torontomaintenance":{"id":"torontomaintenance","type":"rail-yard","color":"#FFCC00","icon":"viarail/viarail.svg","name":"VIA Rail Toronto Maintenance Centre","description":"Major maintenance facility for VIA Rail located in Toronto.","sources":["VIA Rail Canada"],"filterKey":"via/corridor","agency":"viarail","region":"passengerrail","bbox":[-79.5207157,43.6041221,-79.4919435,43.620068]},"vancouvermaintenance":{"id":"vancouvermaintenance","type":"rail-yard","color":"#FFCC00","icon":"viarail/viarail.svg","name":"VIA Rail Vancouver Maintenance Centre","description":"Maintenance facility for VIA Rail located in Vancouver.","sources":["VIA Rail Canada"],"filterKey":"via/canadian","agency":"viarail","region":"passengerrail","bbox":[-123.0974703,49.2723176,-123.0858018,49.2739409]},"winnipegmaintenance":{"id":"winnipegmaintenance","type":"rail-yard","color":"#FFCC00","icon":"viarail/viarail.svg","name":"VIA Rail Winnipeg Maintenance Centre","description":"Maintenance facility for VIA Rail located in Winnipeg.","sources":["VIA Rail Canada"],"filterKey":"via/canadian","agency":"viarail","region":"passengerrail","bbox":[-97.1521922,49.8546133,-97.1406864,49.8732137]},"traindecharlevoix":{"id":"traindecharlevoix","type":"rail-line","color":"#000247","icon":"charlevoix/charlevoix.svg","name":"Train de Charlevoix","description":"Touristic train serving the north shore of the Saint-Lawrence River between Quebec City and La Malbaie.","sources":["VIA Rail Canada"],"filterKey":"traindecharlevoix","agency":"charlevoix","region":"passengerrail","bbox":[-71.14582,46.8856781681,-70.14169,47.623821353]}}')},9455:e=>{"use strict";e.exports=JSON.parse('{"agencies":[{"id":"oc-transpo","name":"OC Transpo","bbox":[-75.93239095708121,45.26587692566606,-75.47978870927166,45.49642647588418],"data":["ottawa/belfastYard.json","ottawa/greenbankYard.json","ottawa/moodieYard.json","ottawa/walkleyYard.json","ottawa/line1.json","ottawa/line2.json","ottawa/line3.json","ottawa/line4.json","ottawa/stage3barrhaven.json","ottawa/stage3kanata.json"]},{"id":"charlevoix","name":"Train de Charlevoix","bbox":[-73.75176,45.44653,-70.14169,47.623821353],"data":["charlevoix/charlevoix.json"]},{"id":"edmonton","name":"Edmonton LRT","bbox":[-113.6678223,53.457301322868176,-113.41141812575138,53.601767010462765],"data":["edmonton/capitalline.json","edmonton/metroline.json","edmonton/valleyline.json","edmonton/valleylinew.json","edmonton/valleylinemsf.json"]},{"id":"viarail","name":"VIA Rail Canada","bbox":[-130.35971,42.29556,-63.26974,58.76772],"data":["viarail/corridor.json","viarail/canadian.json","viarail/churchill.json","viarail/jonquiere.json","viarail/ocean.json","viarail/rupert.json","viarail/senneterre.json","viarail/whiteriver.json","viarail/montrealmaintenance.json","viarail/torontomaintenance.json","viarail/vancouvermaintenance.json","viarail/winnipegmaintenance.json"]},{"id":"stm","name":"STM","bbox":[-73.7260800545552,45.44372029100138,-73.52186189872911,45.59972319599818],"data":["montreal/green.json","montreal/orange.json","montreal/yellow.json","montreal/blue.json","montreal/blueExtension.json"]},{"id":"rem","name":"REM","bbox":[-73.9144974,45.4305912,-73.425561,45.67481794612502],"data":["montreal/rem.json","montreal/brossardmaintenance.json"]},{"id":"ctransit","name":"CTrain","bbox":[-130.35971,42.29556,-63.26974,58.76772],"data":["calgary/blueline.json","calgary/redline.json","calgary/bluemsf.json","calgary/redmsf.json","calgary/redstorage.json"]},{"id":"ttc","name":"TTC - Subway","bbox":[-79.60331150195182,43.63443706290249,-79.2443698561092,43.857232769665806],"data":["toronto/davisvilleYard.json","toronto/wilsonYard.json","toronto/greenwoodYard.json","toronto/keeleYard.json","toronto/mccowanYard.json","toronto/eglintonMSF.json","toronto/finchMSF.json","toronto/sheppardWye.json","toronto/bloorYongeConnectors.json","toronto/ontarioLineMSF.json","toronto/ynseTSF.json","toronto/line1.json","toronto/line2.json","toronto/line3.json","toronto/line4.json","toronto/line5.json","toronto/line6.json","toronto/ynse.json","toronto/sse.json","toronto/ontarioLine.json","toronto/line5west.json"]},{"id":"ttcStreetcar","name":"TTC - Streetcar","bbox":[-79.544722,43.591514,-79.281164,43.689348391718475],"data":["toronto/streetcar/hillcrestComplex.json","toronto/streetcar/leslieBarns.json","toronto/streetcar/roncesvallesCarhouse.json","toronto/streetcar/russellCarhouse.json","toronto/streetcar/streetcarLoops.json","toronto/streetcar/streetcarConnectors.json","toronto/streetcar/route501.json","toronto/streetcar/route503.json","toronto/streetcar/route504.json","toronto/streetcar/route505.json","toronto/streetcar/route506.json","toronto/streetcar/route509.json","toronto/streetcar/route510.json","toronto/streetcar/route511.json","toronto/streetcar/route512.json"]},{"id":"go","name":"GO","bbox":[-81.2493479999999,42.98024840000009,-78.885068,44.3737523],"data":["go/br.json","go/ki.json","go/le.json","go/lw.json","go/mi.json","go/rh.json","go/st.json","go/up.json"]},{"id":"grt","name":"GRT","bbox":[-80.545261,43.35583057283434,-80.30597750531045,43.501633],"data":["waterloo/ion.json","waterloo/ionOMSF.json","waterloo/ion-stage2.json"]},{"id":"rtc","name":"RTC","bbox":[-71.353707,46.760213,-71.211037,46.846826],"data":["quebec/tramway.json"]},{"id":"sto","name":"STO","bbox":[-75.86578535776559,45.39536917415158,-75.69585303512089,45.43724924103122],"data":["gatineau/a.json","gatineau/b.json"]},{"id":"translink","name":"TransLink","bbox":[-123.1793274,49.1675196,-122.7910283,49.2881462],"data":["vancouver/expo.json","vancouver/millenium.json","vancouver/canada.json","vancouver/expomaintenance.json","vancouver/milleniummaintenance.json","vancouver/canadamaintenance.json"]}],"regions":[{"id":"ottawa-gatineau","title":"Ottawa-Gatineau","agencies":["oc-transpo","sto"],"location":[-75.691042,45.420472],"bbox":[-75.93239095708121,45.26587692566606,-75.47978870927166,45.49642647588418]},{"id":"montreal","title":"Montral","agencies":["stm","rem"],"location":[-73.59991,45.49535],"bbox":[-73.9144974,45.4305912,-73.425561,45.59972319599818]},{"id":"calgary","title":"Calgary","agencies":["ctransit"],"location":[-114.057014,51.046215],"bbox":[-114.2393774,50.8963578,-113.9471116,51.136106]},{"id":"edmonton","title":"Edmonton","agencies":["edmonton"],"location":[-113.4890606,53.5435337],"bbox":[-113.6678223,53.457301322868176,-113.41141812575138,53.601767010462765]},{"id":"quebec","title":"Qubec City","agencies":["rtc"],"location":[-71.235223,46.82596],"bbox":[-71.353707,46.760213,-71.211037,46.846826]},{"id":"toronto","title":"Toronto","agencies":["ttc","ttcStreetcar"],"location":[-79.383849,43.653482],"bbox":[-79.60331150195182,43.591514,-79.2443698561092,43.857232769665806]},{"id":"vancouver","title":"Vancouver","agencies":["translink"],"location":[-123.1164,49.282191],"bbox":[-123.1793274,49.1675196,-122.7910283,49.2881462]},{"id":"waterloo","title":"Kitchener-Waterloo","agencies":["grt"],"location":[-80.5,43.466667],"bbox":[-80.545261,43.35583057283434,-80.30597750531045,43.501633]},{"id":"passengerrail","title":"Passenger Rail","agencies":["viarail","charlevoix"],"location":[-79.383849,43.653482],"bbox":[-130.35971,42.29556,-63.26974,58.76772]}]}')}},i={};function l(e){var t=i[e];if(void 0!==t)return t.exports;var n=i[e]={id:e,loaded:!1,exports:{}};return o[e].call(n.exports,n,n.exports,l),n.loaded=!0,n.exports}l.m=o,e=[],l.O=(t,n,r,a)=>{if(!n){var o=1/0;for(u=0;u<e.length;u++){for(var[n,r,a]=e[u],i=!0,s=0;s<n.length;s++)(!1&a||o>=a)&&Object.keys(l.O).every((e=>l.O[e](n[s])))?n.splice(s--,1):(i=!1,a<o&&(o=a));if(i){e.splice(u--,1);var c=r();void 0!==c&&(t=c)}}return t}a=a||0;for(var u=e.length;u>0&&e[u-1][2]>a;u--)e[u]=e[u-1];e[u]=[n,r,a]},l.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return l.d(t,{a:t}),t},n=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,l.t=function(e,r){if(1&r&&(e=this(e)),8&r)return e;if("object"==typeof e&&e){if(4&r&&e.__esModule)return e;if(16&r&&"function"==typeof e.then)return e}var a=Object.create(null);l.r(a);var o={};t=t||[null,n({}),n([]),n(n)];for(var i=2&r&&e;"object"==typeof i&&!~t.indexOf(i);i=n(i))Object.getOwnPropertyNames(i).forEach((t=>o[t]=()=>e[t]));return o.default=()=>e,l.d(a,o),a},l.d=(e,t)=>{for(var n in t)l.o(t,n)&&!l.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},l.f={},l.e=e=>Promise.all(Object.keys(l.f).reduce(((t,n)=>(l.f[n](e,t),t)),[])),l.u=e=>e+".js",l.miniCssF=e=>{},l.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),l.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r={},a="otrainmap:",l.l=(e,t,n,o)=>{if(r[e])r[e].push(t);else{var i,s;if(void 0!==n)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==e||d.getAttribute("data-webpack")==a+n){i=d;break}}i||(s=!0,(i=document.createElement("script")).charset="utf-8",i.timeout=120,l.nc&&i.setAttribute("nonce",l.nc),i.setAttribute("data-webpack",a+n),i.src=e),r[e]=[t];var f=(t,n)=>{i.onerror=i.onload=null,clearTimeout(p);var a=r[e];if(delete r[e],i.parentNode&&i.parentNode.removeChild(i),a&&a.forEach((e=>e(n))),t)return t(n)},p=setTimeout(f.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=f.bind(null,i.onerror),i.onload=f.bind(null,i.onload),s&&document.head.appendChild(i)}},l.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e;l.g.importScripts&&(e=l.g.location+"");var t=l.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");n.length&&(e=n[n.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),l.p=e})(),(()=>{var e={179:0};l.f.j=(t,n)=>{var r=l.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var a=new Promise(((n,a)=>r=e[t]=[n,a]));n.push(r[2]=a);var o=l.p+l.u(t),i=new Error;l.l(o,(n=>{if(l.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var a=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.src;i.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",i.name="ChunkLoadError",i.type=a,i.request=o,r[1](i)}}),"chunk-"+t,t)}},l.O.j=t=>0===e[t];var t=(t,n)=>{var r,a,[o,i,s]=n,c=0;if(o.some((t=>0!==e[t]))){for(r in i)l.o(i,r)&&(l.m[r]=i[r]);if(s)var u=s(l)}for(t&&t(n);c<o.length;c++)a=o[c],l.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return l.O(u)},n=self.webpackChunkotrainmap=self.webpackChunkotrainmap||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),l.nc=void 0;var s=l.O(void 0,[142],(()=>l(1456)));s=l.O(s)})();